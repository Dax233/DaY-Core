================================================================================
æ ¹ç›®å½•: I:\github\FengM\Napcat_api_doc
å…± 6 ä¸ªæ–‡ä»¶
================================================================================

æ–‡ä»¶ç»“æ„æ ‘:
Napcat_api_doc
â”œâ”€â”€â”€ ğŸ“„ msg.md
â”œâ”€â”€â”€ ğŸ“ api
â”‚   â”œâ”€â”€â”€ ğŸ“„ api.md
â”‚   â”œâ”€â”€â”€ ğŸ“„ gocq_api.md
â”‚   â””â”€â”€â”€ ğŸ“„ ob_api.md
â””â”€â”€â”€ ğŸ“ receive
    â”œâ”€â”€â”€ ğŸ“„ basic_event.md
    â””â”€â”€â”€ ğŸ“„ event.md

================================================================================

--------------------------------------------------------------------------------
æ–‡ä»¶è·¯å¾„: I:\github\FengM\Napcat_api_doc\msg.md
--------------------------------------------------------------------------------

```md
# æ¶ˆæ¯æ ¼å¼å…¼å®¹æƒ…å†µ <Badge type="tip" text="V4" />

## æ¶ˆæ¯åˆ—è¡¨

æ”¯æŒä½¿ç”¨ `CQç ` å‘é€

æ ‡æœ‰ `<JSON>` çš„è¡¨ç¤º æ”¶åˆ°çš„æ—¶å€™çš„æ¶ˆæ¯ç±»å‹æ˜¯ `json`
<!-- | `anonymous`        | åŒ¿åå‘æ¶ˆæ¯   |   âŒ   |   âŒ   |                       æ— æ³•æ”¯æŒ                       | -->
<!-- | `redbag`           | çº¢åŒ…         |   âŒ   |   âŒ   |                       ä¸ä¼šæ”¯æŒ                       |
| `gift`             | ç¤¼ç‰©         |   âŒ   |   âŒ   |                       ä¸ä¼šæ”¯æŒ                       |
| `cardimage`        | å¡ç‰‡å›¾ç‰‡     |   âŒ   |   âŒ   |                                                      |
| `tts`              | æ–‡æœ¬è½¬è¯­éŸ³   |   âŒ   |   âŒ   |                                                      | -->
<!-- | `xml`              | `xml` ä¿¡æ¯   |   âŒ   |   âŒ   |                                                      | -->

| æ¶ˆæ¯æ ¼å¼           | ä»‹ç»         |  æ”¶   |  å‘   |                         å¤‡æ³¨                         |
| ------------------ | ------------ | :---: | :---: | :--------------------------------------------------: |
| `text`             | çº¯æ–‡æœ¬       |   âœ…   |   âœ…   |                                                      |
| `face`             | `qq` è¡¨æƒ…    |   âœ…   |   âœ…   |                                                      |
| `image`            | å›¾ç‰‡         |   âœ…   |   âœ…   |                                                      |
| `record`           | è¯­éŸ³         |   âœ…   |   âœ…   |                                                      |
| `video`            | è§†é¢‘         |   âœ…   |   âœ…   |                                                      |
| `at`               | @æŸäºº        |   âœ…   |   âœ…   |                                                      |
| `rps`              | çŒœæ‹³é­”æ³•è¡¨æƒ… |   âœ…   |   âœ…   |                                                      |
| `dice`             | éª°å­         |   âœ…   |   âœ…   |                                                      |
| `shake`            | ç§èŠçª—å£æŠ–åŠ¨ |   âœ…   |   âŒ   |                                                      |
| `poke`             | ç¾¤èŠæˆ³ä¸€æˆ³   |   âœ…   |   âœ…   |        äº‹ä»¶ä¸ŠæŠ¥ä¸æ¥å£è°ƒç”¨ ä¸é€šè¿‡æ¶ˆæ¯                    |
| `share` \<JSON>    | é“¾æ¥åˆ†äº«     |   âœ…   |   âŒ   |                                                      |
| `contact` \<JSON>  | æ¨èå¥½å‹/ç¾¤  |   âœ…   |   âœ…   |                                                      |
| `location` \<JSON> | ä½ç½®         |   âœ…   |   âŒ   |                                                      |
| `music` \<JSON>    | éŸ³ä¹åˆ†äº«     |   âœ…   |   âœ…   |                                                      |
| `reply`            | å›å¤æ¶ˆæ¯     |   âœ…   |   âœ…   |                                                      |
| `forward`          | è½¬å‘æ¶ˆæ¯     |   âœ…   |   âœ…   |                                                      |
| `node`             | è½¬å‘æ¶ˆæ¯èŠ‚ç‚¹ |   âœ…   |   âœ…   |                                                      |
| `json`             | `json` ä¿¡æ¯  |   âœ…   |   âœ…   |                                                      |
| `mface`            | `qq` è¡¨æƒ…åŒ…  |   âœ…   |   âœ…   |  ä»¥imageæ¶ˆæ¯æ®µä¸ŠæŠ¥(å­ç±»å‹åŒºåˆ†) æ”¯æŒmface/imageæ¶ˆæ¯æ®µå‘é€ |
| `file`             | æ–‡ä»¶         |   âœ…   |   âœ…   |                                                      |
| `markdown`         | `markdown`   |   âœ…   |   âœ…   |         å‘æ˜¯åœ¨åŒå±‚åˆå¹¶è½¬å‘å†… æ— æ³•ç›´æ¥å‘é€              |
| `lightapp`\<JSON>  | `å°ç¨‹åºå¡ç‰‡`  |   âœ…   |   âœ…   |         å‘æ˜¯è°ƒç”¨æ‰©å±•æ¥å£`get_mini_app_ark`             |

## æ³¨é‡Šæç¤º

æ ‡æœ‰ **[æ”¶]** ä»…é™æ”¶åˆ°

æ ‡æœ‰ **[å‘]** ä»…é™å‘é€

æ ‡æœ‰ **[é€‰]** å‘é€å¯é€‰

## ç‰¹æ€§æé†’
<mark>è‡ª4.4.14å¼€å§‹ NapCaté‡‡ç”¨JSON5æ ‡å‡†è§£æè¯·æ±‚,æ”¯æŒåœ¨JSONä¸­å°¾éšé€—å·ä¸æ³¨é‡Šä½¿ç”¨,ä»¥è°ƒç”¨ws/http</mark>

## text

``` json
{
  "type": "text",
  "data": {
    "text": "æ–‡æœ¬"
  }
}
```

## face

``` json
{
  "type": "face",
  "data": {
    "id": "123"
  }
}
```

## image

### æ™®é€šå›¾ç‰‡

``` json
{
  "type": "image",
  "data": {
    "name": "", // [å‘] [é€‰]
    "summary": "", // [é€‰]
    "file": "",
    "sub_type": "", // [é€‰]
    "file_id": "", // [æ”¶]
    "url": "", // [æ”¶]
    "path": "", // [æ”¶]
    "file_size": "", // [æ”¶]
    "file_unique": "", // [æ”¶]
  }
}
```

### å•†åŸè¡¨æƒ…

``` json
{
  "type": "image",
  "data": {
    "name": "", // [å‘] [é€‰]
    "summary": "", // [é€‰]
    "file": "marketface",
    "file_id": "", // [æ”¶]
    "url": "", // [æ”¶]
    "path": "", // [æ”¶]
    "file_unique": "", // [æ”¶]
  }
}
```

## record

``` json
{
  "type": "record",
  "data": {
    "file": "",
    "name": "", // [å‘] [é€‰]
    "url": "", // [æ”¶]
    "path": "", // [æ”¶]
    "file_id": "", // [æ”¶]
    "file_size": "", // [æ”¶]
    "file_unique": "", // [æ”¶]
  }
}
```

## video

``` json
{
  "type": "video",
  "data": {
    "file": "",
    "name": "", // [å‘] [é€‰]
    "thumb": "", // [å‘] [é€‰]
    "url": "", // [æ”¶]
    "path": "", // [æ”¶]
    "file_id": "", // [æ”¶]
    "file_size": "", // [æ”¶]
    "file_unique": "", // [æ”¶]
  }
}
```

## at

``` json
{
  "type": "at",
  "data": {
    "qq": "10001",
    "qq": "all" // @å…¨ä½“
  }
}
```

## rps

``` json
{
  "type": "rps",
  "data": {
    "result": "" // [æ”¶]
  }
}
```

## dice

``` json
{
  "type": "dice",
  "data": {
    "result": "" // [æ”¶]
  }
}
```

## contact

``` json
{
  "type": "contact",
  "data": {
    "type": "qq", // [å‘] æ¨èå¥½å‹
    "type": "group", // [å‘] æ¨èç¾¤èŠ
    "id": "10001" // [å‘] QQå·æˆ–ç¾¤å·
  }
}
```

## music

### ç°æœ‰éŸ³æº

``` json
{
  "type": "music",
  "data": {
    "type": "qq", // [å‘]
    "type": "163", // [å‘]
    "type": "kugou", // [å‘]
    "type": "migu", // [å‘]
    "type": "kuwo", // [å‘]
    "id": "" // [å‘]
  }
}
```

### è‡ªå®šä¹‰éŸ³æº

``` json
{
  "type": "music",
  "data": {
    "type": "custom", // [å‘]
    "url": "", // [å‘] ç‚¹å‡»åè·³è½¬ç›®æ ‡ URL
    "audio": "", // [å‘] éŸ³ä¹ URL
    "title": "", // [å‘]
    "image": "kuwo", // [å‘] [é€‰]
    "singer": "kuwo", // [å‘] [é€‰]
  }
}
```

## reply

``` json
{
  "type": "reply",
  "data": {
    "id": ""
  }
}
```

## forward

``` json
{
  "type": "forward",
  "data": {
    "id": "",
    "content": [] // [æ”¶]
  }
}
```

## node

::: tip
`id` å’Œ `content` äºŒé€‰ä¸€
:::

### ç°æœ‰ä¿¡æ¯

``` json
{
  "type": "node",
  "data": {
    "id": "", // [å‘]
    "content": [] // [å‘]
  }
}
```

### ä¼ªé€ ä¿¡æ¯

``` json
{
  "type": "node",
  "data": {
    "user_id": "10001", // [å‘]
    "nickname": "é›ªé›ªçœ‹ä¸è§æˆ‘", // [å‘]
    "id": "", // [å‘]
    "content": [] // [å‘]
  }
}
```

## json

``` json
{
  "type": "json",
  "data": {
    "data": ""
  }
}
```

## mface

``` json
{
  "type": "mface",
  "data": {
    "emoji_id": "", // [å‘]
    "emoji_package_id": "", // [å‘]
    "key": "", // [å‘]
    "summary": "" // [é€‰]
  }
}
```

## file

``` json
{
  "type": "file",
  "data": {
    "name": "", // [å‘] [é€‰]
    "file": "empty",
    "path": "empty", // [æ”¶]
    "url": "empty", // [æ”¶]
    "file_id": "empty", // [æ”¶]
    "file_size": "empty", // [æ”¶]
    "file_unique": "empty" // [æ”¶]
  }
}
```
```

--------------------------------------------------------------------------------
æ–‡ä»¶è·¯å¾„: I:\github\FengM\Napcat_api_doc\api\api.md
--------------------------------------------------------------------------------

```md
# API æ–‡æ¡£ <Badge type="tip" text="V4" />

æ­¤å¤„ä»…åŒ…å« NapCatQQ ä¸­çš„æ‰©å±•æ¥å£

- [onebot11æ¥å£æ–‡æ¡£](https://github.com/botuniverse/onebot-11/blob/master/api/public.md)
- [gocqhttpæ¥å£æ–‡æ¡£](https://docs.go-cqhttp.org/api)
- [Apifoxæ¥å£æ–‡æ¡£](https://napcat.apifox.cn)

## set_group_sign - ç¾¤ç­¾åˆ° <Badge type="info" text="native" />

### å‚æ•°

| å­—æ®µå           | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜        |
| ---------------- | -------- | ------ | ----------- |
| `group_id`       | string   | -      | ç¾¤å·        |

### å“åº”æ•°æ®

æ— 

## group_poke - ç¾¤èŠæˆ³ä¸€æˆ³ <Badge type="info" text="native" />

### å‚æ•°

| å­—æ®µå           | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜        |
| ---------------- | -------- | ------ | ----------- |
| `group_id`       | number   | -      | ç¾¤å·        |
| `user_id`        | number   | -      | å¯¹æ–¹ QQ å·  |

### å“åº”æ•°æ®

æ— 

## friend_poke - ç§èŠæˆ³ä¸€æˆ³ <Badge type="info" text="native" />

### å‚æ•°

| å­—æ®µå           | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜        |
| ---------------- | -------- | ------ | ----------- |
| `user_id`        | number   | -      | å¯¹æ–¹ QQ å·  |

### å“åº”æ•°æ®

æ— 

## ArkSharePeer - è·å–æ¨èå¥½å‹/ç¾¤èŠå¡ç‰‡  <Badge type="info" text="normal" />

### å‚æ•°

å¥½å‹å’Œç¾¤èŠäºŒé€‰ä¸€

| å­—æ®µå        | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜        |
| ------------- | -------- | ------ | ----------- |
| `user_id`     | string   | -      | å¯¹æ–¹ QQ å·  |
| `phoneNumber` | string   | `""`   | å¯¹æ–¹ æ‰‹æœºå· |
| `group_id`    | string   | -      | ç¾¤å·        |

### å“åº”æ•°æ®

| å­—æ®µå    | æ•°æ®ç±»å‹ | è¯´æ˜     |
| --------- | -------- | -------- |
| `errCode` | number   | é”™è¯¯ä¿¡æ¯ |
| `errMsg`  | string   | é”™è¯¯ä¿¡æ¯ |
| `arkJson` | string   | å¡ç‰‡JSON |

## ArkShareGroup - è·å–æ¨èç¾¤èŠå¡ç‰‡ <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ---------- | -------- | ------ | ---- |
| `group_id` | string   | -      | ç¾¤å· |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜     |
| ------ | -------- | -------- |
| `æ— `   | string   | å¡ç‰‡JSON |

## get_robot_uin_range - è·å–æœºå™¨äººè´¦å·èŒƒå›´ <Badge type="info" text="normal" />

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜         |
| ------ | -------- | ------ | ------------ |
| `æ— `   | list[]   | -      | è´¦å·èŒƒå›´åˆ—è¡¨ |

#### list

| å­—æ®µå   | æ•°æ®ç±»å‹ | è¯´æ˜ |
| -------- | -------- | ---- |
| `minUin` | number   | æœ€å° |
| `maxUin` | number   | æœ€å¤§ |

## set_online_status - è®¾ç½®åœ¨çº¿çŠ¶æ€ <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå           | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                               |
| ---------------- | -------- | ------ | ---------------------------------- |
| `status`         | number   | -      | å‚è€ƒ[çŠ¶æ€åˆ—è¡¨](./type.md#çŠ¶æ€åˆ—è¡¨) |
| `ext_status`     | number   | -      | å‚è€ƒ[çŠ¶æ€åˆ—è¡¨](./type.md#çŠ¶æ€åˆ—è¡¨) |
| `battery_status` | number   | -      | ç”µé‡                               |

### å“åº”æ•°æ®

æ— 

## get_friends_with_category - è·å–åˆ†ç±»çš„å¥½å‹åˆ—è¡¨ <Badge type="info" text="normal" />

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜     |
| ------ | -------- | ------ | -------- |
| `æ— `   | list[]   | -      | å¥½å‹åˆ—è¡¨ |

#### list

| å­—æ®µå            | æ•°æ®ç±»å‹ | è¯´æ˜             |
| ----------------- | -------- | ---------------- |
| `categoryId`      | number   | åˆ†ç±»ID           |
| `categorySortId`  | number   | åˆ†ç±»æ’åºID       |
| `categoryName`    | string   | åˆ†ç±»åç§°         |
| `categoryMbCount` | number   | åˆ†ç±»å†…å¥½å‹æ€»æ•°é‡ |
| `onlineCount`     | number   | åœ¨çº¿æ•°é‡         |
| `buddyList`       | buddy[]  | å¥½å‹åˆ—è¡¨         |

#### buddy

| å­—æ®µå           | æ•°æ®ç±»å‹                  | è¯´æ˜     |
| ---------------- | ------------------------- | -------- |
| `qid`            | string                    | QQID     |
| `longNick`       | string                    | ç­¾å     |
| `birthday_year`  | number                    | ç”Ÿæ—¥     |
| `birthday_month` | number                    | ç”Ÿæ—¥     |
| `birthday_day`   | number                    | ç”Ÿæ—¥     |
| `age`            | number                    | å¹´é¾„     |
| `sex`            | string                    | æ€§åˆ«     |
| `eMail`          | string                    | ç”µå­é‚®ç®± |
| `phoneNum`       | string                    | ç”µè¯å·ç  |
| `categoryId`     | number                    | åˆ†ç±»     |
| `richTime`       | number                    |          |
| `richBuffer`     | `{[key: string]: number}` |          |
| `uid`            | string                    | QQå·     |
| `uin`            | string                    | QQå·     |
| `nick`           | string                    | æ˜µç§°     |
| `remark`         | string                    | å¤‡æ³¨     |
| `user_id`        | number                    | QQå·     |
| `nickname`       | string                    | æ˜µç§°     |
| `level`          | number                    | QQç­‰çº§   |

## set_qq_avatar - è®¾ç½®QQå¤´åƒ <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜           |
| ------ | -------- | ------ | -------------- |
| `file` | string   | -      | å›¾ç‰‡è·¯å¾„æˆ–é“¾æ¥ |

### å“åº”æ•°æ®

æ— 

## get_file - è·å–æ–‡ä»¶ä¿¡æ¯ <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå    | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜   |
| --------- | -------- | ------ | ------ |
| `file_id` | string   | -      | æ–‡ä»¶ID |

### å“åº”æ•°æ®

| å­—æ®µå      | æ•°æ®ç±»å‹ | è¯´æ˜       |
| ----------- | -------- | ---------- |
| `file`      | string   | è·¯å¾„æˆ–é“¾æ¥ |
| `url`       | string   | è·¯å¾„æˆ–é“¾æ¥ |
| `file_size` | string   | æ–‡ä»¶å¤§å°   |
| `file_name` | string   | æ–‡ä»¶å     |
| `base64`    | string   | base64     |

## forward_friend_single_msg - è½¬å‘åˆ°ç§èŠ <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå       | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜   |
| ------------ | -------- | ------ | ------ |
| `message_id` | number   | -      | æ¶ˆæ¯ID |
| `user_id`    | number   | -      | QQå·   |

### å“åº”æ•°æ®

æ— 

## forward_group_single_msg - è½¬å‘åˆ°ç¾¤èŠ <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå       | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜   |
| ------------ | -------- | ------ | ------ |
| `message_id` | number   | -      | æ¶ˆæ¯ID |
| `group_id`   | number   | -      | ç¾¤å·   |

### å“åº”æ•°æ®

æ— 

## translate_en2zh - è‹±è¯‘ä¸­ <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå  | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜     |
| ------- | -------- | ------ | -------- |
| `words` | string[] | -      | è‹±æ–‡æ•°ç»„ |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜     |
| ------ | -------- | -------- |
| `æ— `   | string[] | ä¸­æ–‡æ•°ç»„ |

## set_msg_emoji_like - è®¾ç½®è¡¨æƒ…å›å¤ <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå       | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜   |
| ------------ | -------- | ------ | ------ |
| `message_id` | number   | -      | æ¶ˆæ¯ID |
| `emoji_id`   | string   | -      | è¡¨æƒ…ID |

### å“åº”æ•°æ®

æ— 

## send_forward_msg - å‘é€åˆå¹¶è½¬å‘ <Badge type="info" text="normal+native" />

### å‚æ•°

| å­—æ®µå         | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                                                                        |
| -------------- | -------- | ------ | ------------------------------------------------------------------------------------------- |
| `message_type` | string   | -      | æ¶ˆæ¯ç±»å‹ï¼Œæ”¯æŒ `private`ã€`group`ï¼Œåˆ†åˆ«å¯¹åº”ç§èŠã€ç¾¤ç»„ï¼Œå¦‚ä¸ä¼ å…¥ï¼Œåˆ™æ ¹æ®ä¼ å…¥çš„ *_id å‚æ•°åˆ¤æ–­ |
| `user_id`      | number   | -      | QQå·                                                                                        |
| `group_id`     | number   | -      | ç¾¤å·                                                                                        |
| `messages`      | node[]   | -      | æ¶ˆæ¯,éœ€è¦æ˜¯ node, è¯¦è§ [node](../msg.md#node)                                               |

### å“åº”æ•°æ®

| å­—æ®µå       | æ•°æ®ç±»å‹ | è¯´æ˜   |
| ------------ | -------- | ------ |
| `message_id` | number   | æ¶ˆæ¯ID |
| `res_id`     | string   | resid  |

## mark_private_msg_as_read - è®¾ç½®ç§èŠå·²è¯» <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå    | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| --------- | -------- | ------ | ---- |
| `user_id` | number   | -      | QQå· |

### å“åº”æ•°æ®

æ— 

## mark_group_msg_as_read - è®¾ç½®ç¾¤èŠå·²è¯» <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ---------- | -------- | ------ | ---- |
| `group_id` | number   | -      | ç¾¤å· |

### å“åº”æ•°æ®

æ— 

## get_friend_msg_history - è·å–ç§èŠå†å²è®°å½• <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå         | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜     |
| -------------- | -------- | ------ | -------- |
| `user_id`      | string   | -      | QQå·     |
| `message_seq`  | string   | '0'    | èµ·å§‹ä¿¡æ¯ |
| `count`        | number   | 20     | æ•°é‡     |
| `reverseOrder` | boolean  | false  | å€’åº     |

### å“åº”æ•°æ®

| å­—æ®µå     | æ•°æ®ç±»å‹  | è¯´æ˜                                                                                                                                      |
| ---------- | --------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| `messages` | message[] | æ¶ˆæ¯æ•°ç»„,å‚è€ƒ [onebot11](https://github.com/botuniverse/onebot-11/blob/master/api/public.md#get_msg-%E8%8E%B7%E5%8F%96%E6%B6%88%E6%81%AF) |

## create_collection - åˆ›å»ºæ”¶è— <Badge type="info" text="normal" />

## get_collection_list - è·å–æ”¶è— <Badge type="info" text="normal" />

## set_self_longnick - è®¾ç½®ç­¾å <Badge type="info" text="normal" />

### å‚æ•°

å¥½å‹å’Œç¾¤èŠäºŒé€‰ä¸€

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ---------- | -------- | ------ | ---- |
| `longNick` | string   | -      | ç­¾å |

### å“åº”æ•°æ®

| å­—æ®µå   | æ•°æ®ç±»å‹ | è¯´æ˜     |
| -------- | -------- | -------- |
| `result` | number   | é”™è¯¯ä¿¡æ¯ |
| `errMsg` | string   | é”™è¯¯ä¿¡æ¯ |

## get_recent_contact - è·å–ç§èŠå†å²è®°å½• <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå  | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ------- | -------- | ------ | ---- |
| `count` | number   | 10     | æ•°é‡ |

### å“åº”æ•°æ®

| å­—æ®µå           | æ•°æ®ç±»å‹ | è¯´æ˜                                                                                                                                      |
| ---------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| `lastestMsg`     | message  | æ¶ˆæ¯æ•°ç»„,å‚è€ƒ [onebot11](https://github.com/botuniverse/onebot-11/blob/master/api/public.md#get_msg-%E8%8E%B7%E5%8F%96%E6%B6%88%E6%81%AF) |
| `peerUin`        | number   | QQå·                                                                                                                                      |
| `remark`         | string   | QQå¤‡æ³¨                                                                                                                                    |
| `msgTime`        | string   | æ¶ˆæ¯æ—¶é—´                                                                                                                                  |
| `chatType`       | number   | èŠå¤©ç±»å‹                                                                                                                                  |
| `msgId`          | string   | æ¶ˆæ¯ID                                                                                                                                    |
| `sendNickName`   | string   | QQæ˜µç§°                                                                                                                                    |
| `sendMemberName` | string   | ç¾¤æ˜µç§°                                                                                                                                    |
| `peerName`       | string   | QQæ˜µç§°                                                                                                                                    |

## _mark_all_as_read - æ ‡è®°æ‰€æœ‰å·²è¯» <Badge type="info" text="normal" />

### å‚æ•°

æ— 

### å“åº”æ•°æ®

æ— 

## get_profile_like - è·å–è‡ªèº«ç‚¹èµåˆ—è¡¨  <Badge type="info" text="normal" />

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå              | æ•°æ®ç±»å‹ | è¯´æ˜     |
| ------------------ | -------- | -------- |
| `total_count`      | number   | æ€»ç‚¹èµæ•°  |
| `new_count`        | number   | æ–°ç‚¹èµæ•°  |
| `new_nearby_count` | number   |          |
| `last_visit_time`  | number   |          |
| `userInfos`        | list[]   |          |

#### list

| å­—æ®µå           | æ•°æ®ç±»å‹ | è¯´æ˜     |
| ---------------- | -------- | -------- |
| `uid`            | string   | QQå·     |
| `src`            | number   | æ¥æº     |
| `latestTime`     | number   |          |
| `count`          | number   |          |
| `giftCount`      | number   |          |
| `customId`       | number   |          |
| `lastCharged`    | number   |          |
| `bAvailableCnt`  | number   |          |
| `bTodayVotedCnt` | number   |          |
| `nick`           | string   | æ˜µç§°     |
| `gender`         | number   | æ€§åˆ«     |
| `age`            | number   | å¹´é¾„     |
| `isFriend`       | boolean  |          |
| `isvip`          | boolean  | ä¼šå‘˜     |
| `isSvip`         | boolean  | è¶…çº§ä¼šå‘˜ |
| `uin`            | number   |          |

## fetch_custom_face - è·å–è‡ªå®šä¹‰è¡¨æƒ…  <Badge type="info" text="normal" />

### å‚æ•°

| å­—æ®µå  | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ------- | -------- | ------ | ---- |
| `count` | number   | 48     | æ•°é‡ |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜     |
| ------ | -------- | -------- |
| `æ— `   | string[] | è¡¨æƒ…åˆ—è¡¨ |

## get_ai_record - AIæ–‡å­—è½¬è¯­éŸ³  <Badge type="info" text="native" />

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ------ | ------ | ------ |
| `character` | string | AIè§’è‰²ç¼–å·ï¼Œå¿…å¡« |
| `group_id` | number | ç¾¤å·ï¼Œå¿…å¡« |
| `text` | string | éœ€è¦è½¬æˆè¯­éŸ³çš„æ–‡å­—ï¼Œå¿…å¡« |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ |è¯´æ˜ |
| ------ | ------ |------ |
| `data` | string | è½¬æ¢å‡ºçš„è¯­éŸ³é“¾æ¥ |

## get_ai_characters - è·å–AIè¯­éŸ³è§’è‰²åˆ—è¡¨  <Badge type="info" text="native" />

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹| è¯´æ˜ |
| ------ | ------ | ------ |
| `group_id` | number | ç¾¤å·,å¿…å¡«|
| `chat_type`| number | |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
|------------|--------|-----------|
| `type` | string | AIåˆ†ç±»ï¼Œæœ‰'æ¨è','å¤é£','ç°ä»£' |
|`characters`| list[] | AIè§’è‰²æ•°æ® |

#### character[]

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
|------|------|------|
|`character_id` | string | AIè§’è‰²ç¼–å· |
|`character_name`| string | AIè§’è‰²åç§° |
|`preview_url` | string | AIè§’è‰²å£°éŸ³é¢„è§ˆurl|

## send_group_ai_record - ç¾¤èŠå‘é€AIè¯­éŸ³  <Badge type="info" text="native" />

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ------ | ------ | ------ |
| `character` | string | AIè§’è‰²ç¼–å·ï¼Œå¿…å¡« |
| `group_id` | number | ç¾¤å·ï¼Œå¿…å¡« |
| `text` | string | éœ€è¦è½¬æˆè¯­éŸ³çš„æ–‡å­—ï¼Œå¿…å¡« |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ------ | ------ | ------ |
|`message_id`| string |æ‰€å‘å‡ºæ¶ˆæ¯çš„id |

## send_poke - ç¾¤èŠ/ç§èŠæˆ³ä¸€æˆ³  <Badge type="info" text="native" />

### å‚æ•°

| å­—æ®µå           | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                                      |
| ---------------- | -------- | ------ | ------------------------------------------------------- |
| `group_id`       | number   | -      | ä¼ å…¥æ­¤å‚æ•°æŒ‰`group_poke`å‘é€,å¦åˆ™æŒ‰`friend_poke`å‘é€      |
| `user_id`        | number   | -      | å¯¹æ–¹ QQ å·                                               |

### å“åº”æ•°æ®

æ— 
```

--------------------------------------------------------------------------------
æ–‡ä»¶è·¯å¾„: I:\github\FengM\Napcat_api_doc\api\gocq_api.md
--------------------------------------------------------------------------------

```md
# API

## åŸºç¡€ä¼ è¾“

è¯·æ±‚ä¸€ä¸ª API æ—¶, åŒ…å«äº†: API ç»ˆç»“ç‚¹, ä»¥åŠ API æ‰€éœ€å‚æ•°.

### è¯·æ±‚è¯´æ˜

ä½¿ç”¨ HTTP GET:
| åç§°     | è¯´æ˜                                                                                             |
|-----|------------------------------------------------------------------------------------------------|
| è¯·æ±‚ URL | /ç»ˆç»“ç‚¹?å‚æ•°å=å‚æ•°å€¼&å‚æ•°å=å‚æ•°å€¼......                                                                     |
| è¡¥å……     | ä½¿ç”¨ GET è™½ç„¶ç®€å•, ä½†æ˜¯ä½ æ— æ³•ä¼ å…¥å¤æ‚çš„æ•°æ®ç»“æ„, æ‰€ä»¥ä¸€äº›éœ€è¦åµŒå¥—æ•°æ®çš„ API æ˜¯æ— æ³•é€šè¿‡ HTTP GET æ¥è°ƒç”¨çš„, ä¾‹å¦‚ `send_group_forward_msg` æ¥å£ |

ä½¿ç”¨ HTTP POST:
| åç§°     | è¯´æ˜                                                             |
|--------|----------------------------------------------------------------|
| è¯·æ±‚ URL | /ç»ˆç»“ç‚¹                                                           |
| è¯·æ±‚ä½“    | è¯·æ±‚ä½“å¯ä»¥ä½¿ç”¨ JSON ä¹Ÿå¯ä»¥ä½¿ç”¨ Form è¡¨å•, éœ€è¦æ³¨æ„çš„æ˜¯, è¯·æ±‚çš„ Content-Type æ˜¯ä¸€å®šè¦è®¾ç½®å‡†ç¡®çš„ |
| è¡¥å……     | åŒæ ·, åœ¨ POST ä¸­, å¦‚æœè¦ä½¿ç”¨å¤æ‚çš„ API, é‚£ä¹ˆä¹Ÿéœ€è¦ä½¿ç”¨ JSON çš„æ ¼å¼, è¡¨å•æ ¼å¼æ˜¯ä¸æ”¯æŒæ•°æ®åµŒå¥—çš„    |

HTTP POST JSON æ ¼å¼:
```json
{
    "å‚æ•°å": "å‚æ•°å€¼",
    "å‚æ•°å2": "å‚æ•°å€¼"
}
```

HTTP POST è¡¨å•æ ¼å¼:
```
param1=value&param2=value
```

ä½¿ç”¨ WebSocket:
| åç§° |è¯´æ˜                                                                                                          |
| --- | -------------------------------------------------------------------------------------------------------------|
| è¯·æ±‚ URL | è¿™ä¸ªå…¶å®è¯´çš„æ˜¯ websocket å»ºç«‹è¿æ¥æ—¶çš„ URL, ä½ å¯ä»¥è¿æ¥ / è·¯å¾„, ä¹Ÿå¯ä»¥è¿æ¥ /api è·¯å¾„, ä»–ä»¬çš„åŒºåˆ«æ˜¯ / é™¤äº†ç”¨æ¥å‘é€ api å’Œå“åº” api, è¿˜æä¾›ä¸ŠæŠ¥åŠŸèƒ½               |
| è¯·æ±‚ä½“ | ä¸€ä¸ª JSON æ•°æ®, å…¶ä¸­åŒ…å«äº†è¯·æ±‚ API çš„ç»ˆç»“ç‚¹, ä»¥åŠå‚æ•°                                                                          |
| è¡¥å…… | åœ¨è°ƒç”¨ api æ—¶, ä½ è¿˜å¯ä»¥ä¼ å…¥ "echo" å­—æ®µ, ç„¶åå“åº”æ•°æ®ä¸­ä¹Ÿä¼šæœ‰ä¸€ä¸ªå€¼ç›¸åŒçš„ "echo" å­—æ®µ, å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹å¼æ¥ç”„åˆ« "è¿™ä¸ªå“åº”æ˜¯å“ªä¸ªè¯·æ±‚å‘å‡ºçš„", ä½ å¯ä»¥ä¸ºæ¯ä¸€ä¸ªè¯·æ±‚éƒ½ä½¿ç”¨ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦æ¥ç”„åˆ« |

WebSocket JSON æ ¼å¼

``` json
{
    "action": "ç»ˆç»“ç‚¹åç§°, ä¾‹å¦‚ 'send_group_msg'",
    "params": {
        "å‚æ•°å": "å‚æ•°å€¼",
        "å‚æ•°å2": "å‚æ•°å€¼"
    },
    "echo": "'å›å£°', å¦‚æœæŒ‡å®šäº† echo å­—æ®µ, é‚£ä¹ˆå“åº”åŒ…ä¹Ÿä¼šåŒæ—¶åŒ…å«ä¸€ä¸ª echo å­—æ®µ, å®ƒä»¬ä¼šæœ‰ç›¸åŒçš„å€¼"
}
```

### å“åº”è¯´æ˜

ä½¿ç”¨ HTTP è°ƒç”¨ API çš„æ—¶å€™, HTTP çš„å“åº”çŠ¶æ€ç :

| å€¼   | è¯´æ˜                                                                       |
|-----|--------------------------------------------------------------------------|
| 401 | access token æœªæä¾›                                                         |
| 403 | access token ä¸ç¬¦åˆ                                                         |
| 406 | Content-Type ä¸æ”¯æŒ (é application/json æˆ– application/x-www-form-urlencoded |
| 404 | API ä¸å­˜åœ¨                                                                  |
| 200 | é™¤ä¸Šè¿°æƒ…å†µå¤–æ‰€æœ‰æƒ…å†µ (å…·ä½“ API è°ƒç”¨æ˜¯å¦æˆåŠŸ, éœ€è¦çœ‹ API çš„ å“åº”æ•°æ®                                |


API çš„å“åº”æ˜¯ä¸€ä¸ª JSON æ•°æ®, å¦‚ä¸‹:
```json
{
    "status": "çŠ¶æ€, è¡¨ç¤º API æ˜¯å¦è°ƒç”¨æˆåŠŸ, å¦‚æœæˆåŠŸ, åˆ™æ˜¯ OK, å…¶ä»–çš„åœ¨ä¸‹é¢ä¼šè¯´æ˜",
    "retcode": 0,
    "msg": "é”™è¯¯æ¶ˆæ¯, ä»…åœ¨ API è°ƒç”¨å¤±è´¥æ—¶æœ‰è¯¥å­—æ®µ",
    "wording": "å¯¹é”™è¯¯çš„è¯¦ç»†è§£é‡Š(ä¸­æ–‡), ä»…åœ¨ API è°ƒç”¨å¤±è´¥æ—¶æœ‰è¯¥å­—æ®µ",
    "data": {
        "å“åº”æ•°æ®å": "æ•°æ®å€¼",
        "å“åº”æ•°æ®å2": "æ•°æ®å€¼",
    },
    "echo": "'å›å£°', å¦‚æœè¯·æ±‚æ—¶æŒ‡å®šäº† echo, é‚£ä¹ˆå“åº”ä¹Ÿä¼šåŒ…å« echo"
}
```

å…¶ä¸­, `status` å­—æ®µ:
| å€¼      | è¯´æ˜                                                |
|--------|---------------------------------------------------|
| ok     | api è°ƒç”¨æˆåŠŸ                                          |
| async  | api è°ƒç”¨å·²ç»æäº¤å¼‚æ­¥å¤„ç†, æ­¤æ—¶ `retcode` ä¸º 1, å…·ä½“ api è°ƒç”¨æ˜¯å¦æˆåŠŸæ— æ³•å¾—çŸ¥ |
| failed | api è°ƒç”¨å¤±è´¥                                          |

`retcode` å­—æ®µ:
| å€¼  | è¯´æ˜                                |
|----|-----------------------------------|
| 0  | è°ƒç”¨æˆåŠŸ                              |
| 1  | å·²æäº¤ async å¤„ç†                      |
| å…¶ä»– | æ“ä½œå¤±è´¥, å…·ä½“åŸå› å¯ä»¥çœ‹å“åº”çš„ `msg` å’Œ `wording` å­—æ®µ |

## Bot è´¦å·

æœ‰å…³ Bot è´¦å·çš„ç›¸å…³ API



### è·å–ç™»å½•å·ä¿¡æ¯

ç»ˆç»“ç‚¹ï¼š`/get_login_info`

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°
:::

**å“åº”æ•°æ®**

| å­—æ®µå     | æ•°æ®ç±»å‹ | è¯´æ˜    |
| ---------- | -------- | ------- |
| `user_id`  | int64    | QQ å·   |
| `nickname` | string   | QQ æ˜µç§° |



### è®¾ç½®ç™»å½•å·èµ„æ–™

ç»ˆç»“ç‚¹ï¼š`/set_qq_profile`

| å­—æ®µå          | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜     |
| --------------- | -------- | ------ | -------- |
| `nickname`      | string   | -      | åç§°     |
| `company`       | string   | -      | å…¬å¸     |
| `email`         | string   | -      | é‚®ç®±     |
| `college`       | string   | -      | å­¦æ ¡     |
| `personal_note` | string   | -      | ä¸ªäººè¯´æ˜ |

::: tip æç¤º
è¯¥ API æ²¡æœ‰å“åº”æ•°æ®
:::



### è·å–ä¼ç‚¹è´¦å·ä¿¡æ¯

::: tip æ³¨æ„
è¯¥APIåªæœ‰ä¼ç‚¹åè®®å¯ç”¨
:::

ç»ˆç»“ç‚¹: `/qidian_get_account_info`

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°
:::



### è·å–åœ¨çº¿æœºå‹

::: tip æç¤º
æœ‰å…³ä¾‹å­å¯ä»[è¿™ä¸ªé“¾æ¥](https://github.com/Mrs4s/go-cqhttp/pull/872#issuecomment-831180149)æ‰¾åˆ°
:::

ç»ˆç»“ç‚¹ï¼š`/_get_model_show`

**å‚æ•°**

| å­—æ®µ    | ç±»å‹   | è¯´æ˜     |
| ------- | ------ | -------- |
| `model` | string | æœºå‹åç§° |

**å“åº”æ•°æ®**

| å­—æ®µ       | ç±»å‹  | è¯´æ˜ |
| ---------- | ----- | ---- |
| `variants` | array | -    |

å“åº”å†…å®¹ä¸º JSON æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å¦‚ä¸‹ï¼š

| å­—æ®µå       | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ------------ | -------- | ---- |
| `model_show` | string   | -    |
| `need_pay`   | boolean  | -    |



### è®¾ç½®åœ¨çº¿æœºå‹

::: tip æç¤º
æœ‰å…³ä¾‹å­å¯ä»[è¿™ä¸ªé“¾æ¥](https://github.com/Mrs4s/go-cqhttp/pull/872#issuecomment-831180149)æ‰¾åˆ°
:::

ç»ˆç»“ç‚¹ï¼š`/_set_model_show`

**å‚æ•°**

| å­—æ®µ         | ç±»å‹   | è¯´æ˜     |
| ------------ | ------ | -------- |
| `model`      | string | æœºå‹åç§° |
| `model_show` | string | -        |

::: tip æç¤º
è¯¥ API æ²¡æœ‰å“åº”æ•°æ®
:::



### è·å–å½“å‰è´¦å·åœ¨çº¿å®¢æˆ·ç«¯åˆ—è¡¨

ç»ˆç»“ç‚¹ï¼š`/get_online_clients`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹ | è¯´æ˜         |
| ---------- | ---- | ------------ |
| `no_cache` | bool | æ˜¯å¦æ— è§†ç¼“å­˜ |

**å“åº”æ•°æ®**

| å­—æ®µ      | ç±»å‹     | è¯´æ˜           |
| --------- | -------- | -------------- |
| `clients` | Device[] | åœ¨çº¿å®¢æˆ·ç«¯åˆ—è¡¨ |

**Device**

| å­—æ®µ          | ç±»å‹   | è¯´æ˜     |
| ------------- | ------ | -------- |
| `app_id`      | int64  | å®¢æˆ·ç«¯ID |
| `device_name` | string | è®¾å¤‡åç§° |
| `device_kind` | string | è®¾å¤‡ç±»å‹ |



## å¥½å‹ä¿¡æ¯



### è·å–é™Œç”Ÿäººä¿¡æ¯

ç»ˆç»“ç‚¹ï¼š`/get_stranger_info`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼  | è¯´æ˜                                                 |
| ---------- | -------- | ------- | ---------------------------------------------------- |
| `user_id`  | int64    | -       | QQ å·                                                |
| `no_cache` | boolean  | `false` | æ˜¯å¦ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä½¿ç”¨ç¼“å­˜å¯èƒ½æ›´æ–°ä¸åŠæ—¶, ä½†å“åº”æ›´å¿«ï¼‰ |

**å“åº”æ•°æ®**

| å­—æ®µå       | æ•°æ®ç±»å‹ | è¯´æ˜                                  |
| ------------ | -------- | ------------------------------------- |
| `user_id`    | int64    | QQ å·                                 |
| `nickname`   | string   | æ˜µç§°                                  |
| `sex`        | string   | æ€§åˆ«, `male` æˆ– `female` æˆ– `unknown` |
| `age`        | int32    | å¹´é¾„                                  |
| `qid`        | string   | qid IDèº«ä»½å¡                          |
| `level`      | int32    | ç­‰çº§                                  |
| `login_days` | int32    | ç­‰çº§                                  |



### è·å–å¥½å‹åˆ—è¡¨

ç»ˆç»“ç‚¹ï¼š`/get_friend_list`

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°
:::

**å“åº”æ•°æ®**

å“åº”å†…å®¹ä¸º json æ•°ç»„, æ¯ä¸ªå…ƒç´ å¦‚ä¸‹ï¼š

| å­—æ®µå     | æ•°æ®ç±»å‹ | è¯´æ˜   |
| ---------- | -------- | ------ |
| `user_id`  | int64    | QQ å·  |
| `nickname` | string   | æ˜µç§°   |
| `remark`   | string   | å¤‡æ³¨å |



### è·å–å•å‘å¥½å‹åˆ—è¡¨

ç»ˆç»“ç‚¹ï¼š`/get_unidirectional_friend_list`

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°
:::

**å“åº”æ•°æ®**

å“åº”å†…å®¹ä¸º json æ•°ç»„, æ¯ä¸ªå…ƒç´ å¦‚ä¸‹ï¼š

| å­—æ®µå     | æ•°æ®ç±»å‹ | è¯´æ˜  |
| ---------- | -------- | ----- |
| `user_id`  | int64    | QQ å· |
| `nickname` | string   | æ˜µç§°  |
| `source`   | string   | æ¥æº  |





## å¥½å‹æ“ä½œ

å¥½å‹æ“ä½œ API



### åˆ é™¤å¥½å‹

ç»ˆç»“ç‚¹ï¼š`/delete_friend`

**å‚æ•°**

| å­—æ®µå    | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜       |
| --------- | -------- | ------ | ---------- |
| `user_id` | int64    | -      | å¥½å‹ QQ å· |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### åˆ é™¤å•å‘å¥½å‹

ç»ˆç»“ç‚¹ï¼š`/delete_unidirectional_friend`

**å‚æ•°**

| å­—æ®µ      | ç±»å‹  | è¯´æ˜         |
| --------- | ----- | ------------ |
| `user_id` | int64 | å•å‘å¥½å‹QQå· |

::: tip æç¤º
è¯¥ API æ²¡æœ‰å“åº”æ•°æ®
:::







## æ¶ˆæ¯

æœ‰å…³æ¶ˆæ¯æ“ä½œçš„ API



### å‘é€ç§èŠæ¶ˆæ¯

ç»ˆç»“ç‚¹ï¼š`/send_private_msg`

**å‚æ•°**

| å­—æ®µå           | æ•°æ®ç±»å‹    | é»˜è®¤å€¼     | è¯´æ˜                                               |
|---------------|---------|---------|----------------------------------------------------------|
| `user_id`     | int64   | -       | å¯¹æ–¹ QQ å·                                                |
| `group_id`    | int64   | -       | ä¸»åŠ¨å‘èµ·ä¸´æ—¶ä¼šè¯æ—¶çš„æ¥æºç¾¤å·(å¯é€‰, æœºå™¨äººæœ¬èº«å¿…é¡»æ˜¯ç®¡ç†å‘˜/ç¾¤ä¸»)   |
| `message`     | message | -       | è¦å‘é€çš„å†…å®¹                                               |
| `auto_escape` | boolean | `false` | æ¶ˆæ¯å†…å®¹æ˜¯å¦ä½œä¸ºçº¯æ–‡æœ¬å‘é€ ( å³ä¸è§£æ CQ ç  ) , åªåœ¨ `message` å­—æ®µæ˜¯å­—ç¬¦ä¸²æ—¶æœ‰æ•ˆ |

**å“åº”æ•°æ®**

| å­—æ®µå          | æ•°æ®ç±»å‹  | è¯´æ˜    |
|--------------|-------|-------|
| `message_id` | int32 | æ¶ˆæ¯ ID |

###  å‘é€ç¾¤èŠæ¶ˆæ¯

ç»ˆç»“ç‚¹ï¼š`/send_group_msg`

**å‚æ•°**

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | int64 | - | ç¾¤å· |
| `message` | message | - | è¦å‘é€çš„å†…å®¹ |
| `auto_escape` | boolean | `false` | æ¶ˆæ¯å†…å®¹æ˜¯å¦ä½œä¸ºçº¯æ–‡æœ¬å‘é€ ( å³ä¸è§£æ CQ ç  ) , åªåœ¨ `message` å­—æ®µæ˜¯å­—ç¬¦ä¸²æ—¶æœ‰æ•ˆ |

**å“åº”æ•°æ®**

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `message_id` | int32 | æ¶ˆæ¯ ID |



### å‘é€æ¶ˆæ¯

ç»ˆç»“ç‚¹ï¼š`/send_msg`

**å‚æ•°**

| å­—æ®µå         | æ•°æ®ç±»å‹ | é»˜è®¤å€¼  | è¯´æ˜                                                         |
| -------------- | -------- | ------- | ------------------------------------------------------------ |
| `message_type` | string   | -       | æ¶ˆæ¯ç±»å‹, æ”¯æŒ `private`ã€`group` , åˆ†åˆ«å¯¹åº”ç§èŠã€ç¾¤ç»„, å¦‚ä¸ä¼ å…¥, åˆ™æ ¹æ®ä¼ å…¥çš„ `*_id` å‚æ•°åˆ¤æ–­ |
| `user_id`      | int64    | -       | å¯¹æ–¹ QQ å· ( æ¶ˆæ¯ç±»å‹ä¸º `private` æ—¶éœ€è¦ )                   |
| `group_id`     | int64    | -       | ç¾¤å· ( æ¶ˆæ¯ç±»å‹ä¸º `group` æ—¶éœ€è¦ )                           |
| `message`      | message  | -       | è¦å‘é€çš„å†…å®¹                                                 |
| `auto_escape`  | boolean  | `false` | æ¶ˆæ¯å†…å®¹æ˜¯å¦ä½œä¸ºçº¯æ–‡æœ¬å‘é€ ( å³ä¸è§£æ CQ ç  ) , åªåœ¨ `message` å­—æ®µæ˜¯å­—ç¬¦ä¸²æ—¶æœ‰æ•ˆ |

**å“åº”æ•°æ®**

| å­—æ®µå       | æ•°æ®ç±»å‹ | è¯´æ˜    |
| ------------ | -------- | ------- |
| `message_id` | int32    | æ¶ˆæ¯ ID |



### è·å–æ¶ˆæ¯

ç»ˆç»“ç‚¹: `/get_msg`

**å‚æ•°**

| å­—æ®µ         | ç±»å‹  | è¯´æ˜   |
| ------------ | ----- | ------ |
| `message_id` | int32 | æ¶ˆæ¯id |

**å“åº”æ•°æ®**

| å­—æ®µ           | ç±»å‹    | è¯´æ˜                                   |
| -------------- | ------- | -------------------------------------- |
| `group`        | bool    | æ˜¯å¦æ˜¯ç¾¤æ¶ˆæ¯                           |
| `group_id`     | int64   | æ˜¯ç¾¤æ¶ˆæ¯æ—¶çš„ç¾¤å·(å¦åˆ™ä¸å­˜åœ¨æ­¤å­—æ®µ)     |
| `message_id`   | int32   | æ¶ˆæ¯id                                 |
| `real_id`      | int32   | æ¶ˆæ¯çœŸå®id                             |
| `message_type` | string  | ç¾¤æ¶ˆæ¯æ—¶ä¸º`group`, ç§èŠæ¶ˆæ¯ä¸º`private` |
| `sender`       | object  | å‘é€è€…                                 |
| `time`         | int32   | å‘é€æ—¶é—´                               |
| `message`      | message | æ¶ˆæ¯å†…å®¹                               |
| `raw_message`  | message | åŸå§‹æ¶ˆæ¯å†…å®¹                           |

å…¶ä¸­`sender`å­—æ®µåŒ…å«ä¸¤ä¸ªå­—æ®µ:

| å­—æ®µ       | ç±»å‹   | è¯´æ˜         |
| ---------- | ------ | ------------ |
| `nickname` | string | å‘é€è€…æ˜µç§°   |
| `user_id`  | int64  | å‘é€è€… QQ å· |

::: warning æ³¨æ„
åœ¨ go-cqhttp-v0.9.35~v0.9.36-fix3 ç‰ˆæœ¬ä¸­ `raw_message` å­—æ®µä¸º `message_raw`

åœ¨ go-cqhttp-v0.9.35ä»¥å‰çš„ç‰ˆæœ¬ä¸­ä¸å­˜åœ¨ `message_raw` å­—æ®µ

åœ¨ go-cqhttp-v0.9.29-fix1 ä»¥å‰çš„ç‰ˆæœ¬å¯èƒ½ä¸ç¬¦åˆè¯¥æ–‡æ¡£
:::



### æ’¤å›æ¶ˆæ¯

ç»ˆç»“ç‚¹ï¼š`/delete_msg`

**å‚æ•°**

| å­—æ®µå       | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜    |
| ------------ | -------- | ------ | ------- |
| `message_id` | int32    | -      | æ¶ˆæ¯ ID |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### æ ‡è®°æ¶ˆæ¯å·²è¯»

ç»ˆç»“ç‚¹: `/mark_msg_as_read`

**å‚æ•°**

| å­—æ®µ         | ç±»å‹  | è¯´æ˜   |
| ------------ | ----- | ------ |
| `message_id` | int32 | æ¶ˆæ¯id |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### è·å–åˆå¹¶è½¬å‘å†…å®¹

ç»ˆç»“ç‚¹: `/get_forward_msg`

**å‚æ•°**

| å­—æ®µ         | ç±»å‹   | è¯´æ˜   |
| ------------ | ------ | ------ |
| `message_id` | string | æ¶ˆæ¯id |

::: tip æç¤º
å­—æ®µ `message_id` å¯¹åº”[åˆå¹¶è½¬å‘](https://docs.go-cqhttp.org/cqcode/#%E5%90%88%E5%B9%B6%E8%BD%AC%E5%8F%91)ä¸­çš„ `id` å­—æ®µ
:::

**å“åº”æ•°æ®**

| å­—æ®µ       | ç±»å‹              | è¯´æ˜     |
| ---------- | ----------------- | -------- |
| `messages` | forward message[] | æ¶ˆæ¯åˆ—è¡¨ |

å“åº”ç¤ºä¾‹

````json
{
    "data": {
        "messages": [
            {
                "content": "åˆå¹¶è½¬å‘1",
                "sender": {
                    "nickname": "å‘é€è€…A",
                    "user_id": 10086
                },
                "time": 1595694374
            },
            {
                "content": "åˆå¹¶è½¬å‘2[CQ:image,file=xxxx,url=xxxx]",
                "sender": {
                    "nickname": "å‘é€è€…B",
                    "user_id": 10087
                },
                "time": 1595694393
            }
        ]
    },
    "retcode": 0,
    "status": "ok"
}
````



### å‘é€åˆå¹¶è½¬å‘ ( ç¾¤èŠ )

ç»ˆç»“ç‚¹: `/send_group_forward_msg`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹           | è¯´æ˜                                                         |
| ---------- | -------------- | ------------------------------------------------------------ |
| `group_id` | int64          | ç¾¤å·                                                         |
| `messages` | forward node[] | è‡ªå®šä¹‰è½¬å‘æ¶ˆæ¯, å…·ä½“çœ‹ [CQcode](https://docs.go-cqhttp.org/cqcode/#%E5%90%88%E5%B9%B6%E8%BD%AC%E5%8F%91%E6%B6%88%E6%81%AF%E8%8A%82%E7%82%B9) |

**å“åº”æ•°æ®**

| å­—æ®µå       | æ•°æ®ç±»å‹ | è¯´æ˜        |
| ------------ | -------- | ----------- |
| `message_id` | int64    | æ¶ˆæ¯ ID     |
| `forward_id` | string   | è½¬å‘æ¶ˆæ¯ ID |



### å‘é€åˆå¹¶è½¬å‘ ( å¥½å‹ )

ç»ˆç»“ç‚¹: `/send_private_forward_msg`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹           | è¯´æ˜                                                         |
| ---------- | -------------- | ------------------------------------------------------------ |
| `user_id`  | int64          | å¥½å‹QQå·                                                     |
| `messages` | forward node[] | è‡ªå®šä¹‰è½¬å‘æ¶ˆæ¯, å…·ä½“çœ‹ [CQcode](https://docs.go-cqhttp.org/cqcode/#%E5%90%88%E5%B9%B6%E8%BD%AC%E5%8F%91%E6%B6%88%E6%81%AF%E8%8A%82%E7%82%B9) |

**å“åº”æ•°æ®**

| å­—æ®µå       | æ•°æ®ç±»å‹ | è¯´æ˜        |
| ------------ | -------- | ----------- |
| `message_id` | int64    | æ¶ˆæ¯ ID     |
| `forward_id` | string   | è½¬å‘æ¶ˆæ¯ ID |



### è·å–ç¾¤æ¶ˆæ¯å†å²è®°å½•

ç»ˆç»“ç‚¹ï¼š`/get_group_msg_history`

**å‚æ•°** 

| å­—æ®µ          | ç±»å‹  | è¯´æ˜                                |
| ------------- | ----- | ----------------------------------- |
| `message_seq` | int64 | èµ·å§‹æ¶ˆæ¯åºå·, å¯é€šè¿‡ `get_msg` è·å¾— |
| `group_id`    | int64 | ç¾¤å·                                |

**å“åº”æ•°æ®**

| å­—æ®µ       | ç±»å‹      | è¯´æ˜                       |
| ---------- | --------- | -------------------------- |
| `messages` | Message[] | ä»èµ·å§‹åºå·å¼€å§‹çš„å‰19æ¡æ¶ˆæ¯ |

::: tip æç¤º
ä¸æä¾›èµ·å§‹åºå·å°†é»˜è®¤è·å–æœ€æ–°çš„æ¶ˆæ¯
:::





## å›¾ç‰‡

å›¾ç‰‡ç›¸å…³ API



### è·å–å›¾ç‰‡ä¿¡æ¯

ç»ˆç»“ç‚¹: `/get_image`

::: warning æ³¨æ„
è¯¥æ¥å£ä¸º CQHTTP æ¥å£ä¿®æ”¹
:::

**å‚æ•°**

| å­—æ®µ   | ç±»å‹   | è¯´æ˜           |
| ------ | ------ | -------------- |
| `file` | string | å›¾ç‰‡ç¼“å­˜æ–‡ä»¶å |

**å“åº”æ•°æ®**

| å­—æ®µ       | ç±»å‹   | è¯´æ˜           |
| ---------- | ------ | -------------- |
| `size`     | int32  | å›¾ç‰‡æºæ–‡ä»¶å¤§å° |
| `filename` | string | å›¾ç‰‡æ–‡ä»¶åŸå   |
| `url`      | string | å›¾ç‰‡ä¸‹è½½åœ°å€   |



### æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘é€å›¾ç‰‡

ç»ˆç»“ç‚¹ï¼š`/can_send_image`

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°
:::

**å“åº”æ•°æ®**

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜   |
| ------ | -------- | ------ |
| `yes`  | boolean  | æ˜¯æˆ–å¦ |



### å›¾ç‰‡ OCR

::: warning æ³¨æ„
ç›®å‰å›¾ç‰‡OCRæ¥å£ä»…æ”¯æŒæ¥å—çš„å›¾ç‰‡

ocr_image APIç§»é™¤äº†å®éªŒæ¨¡å¼, ç›®å‰ç‰ˆæœ¬ .ocr_image å’Œ ocr_image å‡èƒ½è®¿é—®, åæœŸå°†åªä¿ç•™åè€….

[go-cqhttp-v0.9.34æ›´æ–°æ—¥å¿—](https://github.com/Mrs4s/go-cqhttp/releases/tag/v0.9.34)
:::

ç»ˆç»“ç‚¹: `/ocr_image`æˆ–`/.ocr_image`

**å‚æ•°**

| å­—æ®µ    | ç±»å‹   | è¯´æ˜   |
| ------- | ------ | ------ |
| `image` | string | å›¾ç‰‡ID |

**å“åº”æ•°æ®**

| å­—æ®µ       | ç±»å‹            | è¯´æ˜    |
| ---------- | --------------- | ------- |
| `texts`    | TextDetection[] | OCRç»“æœ |
| `language` | string          | è¯­è¨€    |

**TextDetection**

| å­—æ®µ          | ç±»å‹      | è¯´æ˜   |
| ------------- | --------- | ------ |
| `text`        | string    | æ–‡æœ¬   |
| `confidence`  | int32     | ç½®ä¿¡åº¦ |
| `coordinates` | vector2[] | åæ ‡   |



## è¯­éŸ³

è¯­éŸ³ç›¸å…³ API



### è·å–è¯­éŸ³

::: warning æ³¨æ„
è¯¥ API æš‚æœªè¢« go-cqhttp æ”¯æŒ, æ‚¨å¯ä»¥æäº¤ pr ä»¥ä½¿è¯¥ API è¢«æ”¯æŒ
[æäº¤ pr](https://github.com/Mrs4s/go-cqhttp/compare)
:::

ç»ˆç»“ç‚¹ï¼š`/get_record`

::: tip æç¤º
è¦ä½¿ç”¨æ­¤æ¥å£, é€šå¸¸éœ€è¦å®‰è£… ffmpeg, è¯·å‚è€ƒ OneBot å®ç°çš„ç›¸å…³è¯´æ˜ã€‚
:::

**å‚æ•°**

| å­—æ®µå       | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                                         |
| ------------ | -------- | ------ | ------------------------------------------------------------ |
| `file`       | string   | -      | æ”¶åˆ°çš„è¯­éŸ³æ–‡ä»¶åï¼ˆæ¶ˆæ¯æ®µçš„ `file` å‚æ•°ï¼‰, å¦‚ `0B38145AA44505000B38145AA4450500.silk` |
| `out_format` | string   | -      | è¦è½¬æ¢åˆ°çš„æ ¼å¼, ç›®å‰æ”¯æŒ `mp3`ã€`amr`ã€`wma`ã€`m4a`ã€`spx`ã€`ogg`ã€`wav`ã€`flac` |

**å“åº”æ•°æ®**

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜                                                         |
| ------ | -------- | ------------------------------------------------------------ |
| `file` | string   | è½¬æ¢åçš„è¯­éŸ³æ–‡ä»¶è·¯å¾„, å¦‚ `/home/somebody/cqhttp/data/record/0B38145AA44505000B38145AA4450500.mp3` |



### æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘é€è¯­éŸ³

ç»ˆç»“ç‚¹ï¼š`/can_send_record`

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°
:::

**å“åº”æ•°æ®**

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜   |
| ------ | -------- | ------ |
| `yes`  | boolean  | æ˜¯æˆ–å¦ |



## å¤„ç†

ä¸ŠæŠ¥å¤„ç†ç›¸å…³ API



### å¤„ç†åŠ å¥½å‹è¯·æ±‚

ç»ˆç»“ç‚¹ï¼š`/set_friend_add_request`

**å‚æ•°**

| å­—æ®µå    | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                      |
| --------- | -------- | ------ | ----------------------------------------- |
| `flag`    | string   | -      | åŠ å¥½å‹è¯·æ±‚çš„ flagï¼ˆéœ€ä»ä¸ŠæŠ¥çš„æ•°æ®ä¸­è·å¾—ï¼‰ |
| `approve` | boolean  | `true` | æ˜¯å¦åŒæ„è¯·æ±‚                              |
| `remark`  | string   | ç©º     | æ·»åŠ åçš„å¥½å‹å¤‡æ³¨ï¼ˆä»…åœ¨åŒæ„æ—¶æœ‰æ•ˆï¼‰        |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### å¤„ç†åŠ ç¾¤è¯·æ±‚ï¼é‚€è¯·

ç»ˆç»“ç‚¹ï¼š`/set_group_add_request`

**å‚æ•°**

| å­—æ®µå               | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                                         |
| -------------------- | -------- | ------ | ------------------------------------------------------------ |
| `flag`               | string   | -      | åŠ ç¾¤è¯·æ±‚çš„ flagï¼ˆéœ€ä»ä¸ŠæŠ¥çš„æ•°æ®ä¸­è·å¾—ï¼‰                      |
| `sub_type` æˆ– `type` | string   | -      | `add` æˆ– `invite`, è¯·æ±‚ç±»å‹ï¼ˆéœ€è¦å’Œä¸ŠæŠ¥æ¶ˆæ¯ä¸­çš„ `sub_type` å­—æ®µç›¸ç¬¦ï¼‰ |
| `approve`            | boolean  | `true` | æ˜¯å¦åŒæ„è¯·æ±‚ï¼é‚€è¯·                                           |
| `reason`             | string   | ç©º     | æ‹’ç»ç†ç”±ï¼ˆä»…åœ¨æ‹’ç»æ—¶æœ‰æ•ˆï¼‰                                   |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::


**å“åº”æ•°æ®**

| å­—æ®µ          | ç±»å‹   | è¯´æ˜         |
| ------------- | ------ | ------------ |
| `master_id`   | int64  | çˆ¶è´¦å·ID     |
| `ext_name`    | string | ç”¨æˆ·æ˜µç§°     |
| `create_time` | int64  | è´¦å·åˆ›å»ºæ—¶é—´ |



## ç¾¤ä¿¡æ¯

ç¾¤ä¿¡æ¯ç›¸å…³ API



### è·å–ç¾¤ä¿¡æ¯

ç»ˆç»“ç‚¹ï¼š`/get_group_info`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼  | è¯´æ˜                                                 |
| ---------- | -------- | ------- | ---------------------------------------------------- |
| `group_id` | int64    | -       | ç¾¤å·                                                 |
| `no_cache` | boolean  | `false` | æ˜¯å¦ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä½¿ç”¨ç¼“å­˜å¯èƒ½æ›´æ–°ä¸åŠæ—¶, ä½†å“åº”æ›´å¿«ï¼‰ |

**å“åº”æ•°æ®**

::: tip æç¤º
å¦‚æœæœºå™¨äººå°šæœªåŠ å…¥ç¾¤, `group_create_time`, `group_level`, `max_member_count` å’Œ `member_count` å°†ä¼šä¸º0
:::

| å­—æ®µå              | æ•°æ®ç±»å‹ | è¯´æ˜                 |
| ------------------- | -------- | -------------------- |
| `group_id`          | int64    | ç¾¤å·                 |
| `group_name`        | string   | ç¾¤åç§°               |
| `group_memo`        | string   | ç¾¤å¤‡æ³¨               |
| `group_create_time` | uint32   | ç¾¤åˆ›å»ºæ—¶é—´           |
| `group_level`       | uint32   | ç¾¤ç­‰çº§               |
| `member_count`      | int32    | æˆå‘˜æ•°               |
| `max_member_count`  | int32    | æœ€å¤§æˆå‘˜æ•°ï¼ˆç¾¤å®¹é‡ï¼‰ |

::: tip æç¤º
è¿™é‡Œæä¾›äº†ä¸€ä¸ªAPIç”¨äºè·å–ç¾¤å›¾ç‰‡, `group_id` ä¸ºç¾¤å·
https://p.qlogo.cn/gh/{group_id}/{group_id}/100
:::

::: warning æ³¨æ„
åœ¨ `go-cqhttp-v0.9.40`ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œè¯¥APIä¸èƒ½è·å–é™Œç”Ÿç¾¤æ¶ˆæ¯
:::



### è·å–ç¾¤åˆ—è¡¨

ç»ˆç»“ç‚¹ï¼š`/get_group_list`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼  | è¯´æ˜                                                 |
| ---------- | -------- | ------- | ---------------------------------------------------- |
| `no_cache` | boolean  | `false` | æ˜¯å¦ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä½¿ç”¨ç¼“å­˜å¯èƒ½æ›´æ–°ä¸åŠæ—¶, ä½†å“åº”æ›´å¿«ï¼‰ |

**å“åº”æ•°æ®**

å“åº”å†…å®¹ä¸º json æ•°ç»„, æ¯ä¸ªå…ƒç´ å’Œä¸Šé¢çš„ `get_group_info` æ¥å£ç›¸åŒã€‚



### è·å–ç¾¤æˆå‘˜ä¿¡æ¯

ç»ˆç»“ç‚¹ï¼š`/get_group_member_info`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼  | è¯´æ˜                                                 |
| ---------- | -------- | ------- | ---------------------------------------------------- |
| `group_id` | int64    | -       | ç¾¤å·                                                 |
| `user_id`  | int64    | -       | QQ å·                                                |
| `no_cache` | boolean  | `false` | æ˜¯å¦ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä½¿ç”¨ç¼“å­˜å¯èƒ½æ›´æ–°ä¸åŠæ—¶, ä½†å“åº”æ›´å¿«ï¼‰ |

**å“åº”æ•°æ®**

| å­—æ®µå              | æ•°æ®ç±»å‹ | è¯´æ˜                                  |
| ------------------- | -------- | ------------------------------------- |
| `group_id`          | int64    | ç¾¤å·                                  |
| `user_id`           | int64    | QQ å·                                 |
| `nickname`          | string   | æ˜µç§°                                  |
| `card`              | string   | ç¾¤åç‰‡ï¼å¤‡æ³¨                          |
| `sex`               | string   | æ€§åˆ«, `male` æˆ– `female` æˆ– `unknown` |
| `age`               | int32    | å¹´é¾„                                  |
| `area`              | string   | åœ°åŒº                                  |
| `join_time`         | int32    | åŠ ç¾¤æ—¶é—´æˆ³                            |
| `last_sent_time`    | int32    | æœ€åå‘è¨€æ—¶é—´æˆ³                        |
| `level`             | string   | æˆå‘˜ç­‰çº§                              |
| `role`              | string   | è§’è‰², `owner` æˆ– `admin` æˆ– `member`  |
| `unfriendly`        | boolean  | æ˜¯å¦ä¸è‰¯è®°å½•æˆå‘˜                      |
| `title`             | string   | ä¸“å±å¤´è¡”                              |
| `title_expire_time` | int64    | ä¸“å±å¤´è¡”è¿‡æœŸæ—¶é—´æˆ³                    |
| `card_changeable`   | boolean  | æ˜¯å¦å…è®¸ä¿®æ”¹ç¾¤åç‰‡                    |
| `shut_up_timestamp` | int64    | ç¦è¨€åˆ°æœŸæ—¶é—´                          |



### è·å–ç¾¤æˆå‘˜åˆ—è¡¨

ç»ˆç»“ç‚¹ï¼š`/get_group_member_list`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼  | è¯´æ˜                                                 |
| ---------- | -------- | ------- | ---------------------------------------------------- |
| `group_id` | int64    | -       | ç¾¤å·                                                 |
| `no_cache` | boolean  | `false` | æ˜¯å¦ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä½¿ç”¨ç¼“å­˜å¯èƒ½æ›´æ–°ä¸åŠæ—¶, ä½†å“åº”æ›´å¿«ï¼‰ |

**å“åº”æ•°æ®**

å“åº”å†…å®¹ä¸º json æ•°ç»„, æ¯ä¸ªå…ƒç´ çš„å†…å®¹å’Œä¸Šé¢çš„ `get_group_member_info` æ¥å£ç›¸åŒ, ä½†å¯¹äºåŒä¸€ä¸ªç¾¤ç»„çš„åŒä¸€ä¸ªæˆå‘˜, è·å–åˆ—è¡¨æ—¶å’Œè·å–å•ç‹¬çš„æˆå‘˜ä¿¡æ¯æ—¶, æŸäº›å­—æ®µå¯èƒ½æœ‰æ‰€ä¸åŒ, ä¾‹å¦‚ `area`ã€`title` ç­‰å­—æ®µåœ¨è·å–åˆ—è¡¨æ—¶æ— æ³•è·å¾—, å…·ä½“åº”ä»¥å•ç‹¬çš„æˆå‘˜ä¿¡æ¯ä¸ºå‡†ã€‚



### è·å–ç¾¤è£èª‰ä¿¡æ¯

ç»ˆç»“ç‚¹ï¼š`/get_group_honor_info`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                                         |
| ---------- | -------- | ------ | ------------------------------------------------------------ |
| `group_id` | int64    | -      | ç¾¤å·                                                         |
| `type`     | string   | -      | è¦è·å–çš„ç¾¤è£èª‰ç±»å‹, å¯ä¼ å…¥ `talkative` `performer` `legend` `strong_newbie` `emotion` ä»¥åˆ†åˆ«è·å–å•ä¸ªç±»å‹çš„ç¾¤è£èª‰æ•°æ®, æˆ–ä¼ å…¥ `all` è·å–æ‰€æœ‰æ•°æ® |

**å“åº”æ•°æ®**

| å­—æ®µå               | æ•°æ®ç±»å‹ | è¯´æ˜                                                       |
| -------------------- | -------- | ---------------------------------------------------------- |
| `group_id`           | int64    | ç¾¤å·                                                       |
| `current_talkative`  | object   | å½“å‰é¾™ç‹, ä»… `type` ä¸º `talkative` æˆ– `all` æ—¶æœ‰æ•°æ®       |
| `talkative_list`     | array    | å†å²é¾™ç‹, ä»… `type` ä¸º `talkative` æˆ– `all` æ—¶æœ‰æ•°æ®       |
| `performer_list`     | array    | ç¾¤èŠä¹‹ç«, ä»… `type` ä¸º `performer` æˆ– `all` æ—¶æœ‰æ•°æ®       |
| `legend_list`        | array    | ç¾¤èŠç‚½ç„°, ä»… `type` ä¸º `legend` æˆ– `all` æ—¶æœ‰æ•°æ®          |
| `strong_newbie_list` | array    | å†’å°–å°æ˜¥ç¬‹, ä»… `type` ä¸º `strong_newbie` æˆ– `all` æ—¶æœ‰æ•°æ® |
| `emotion_list`       | array    | å¿«ä¹ä¹‹æº, ä»… `type` ä¸º `emotion` æˆ– `all` æ—¶æœ‰æ•°æ®         |

å…¶ä¸­ `current_talkative` å­—æ®µçš„å†…å®¹å¦‚ä¸‹ï¼š

| å­—æ®µå      | æ•°æ®ç±»å‹ | è¯´æ˜     |
| ----------- | -------- | -------- |
| `user_id`   | int64    | QQ å·    |
| `nickname`  | string   | æ˜µç§°     |
| `avatar`    | string   | å¤´åƒ URL |
| `day_count` | int32    | æŒç»­å¤©æ•° |

å…¶å®ƒå„ `*_list` çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ª json å¯¹è±¡, å†…å®¹å¦‚ä¸‹ï¼š

| å­—æ®µå        | æ•°æ®ç±»å‹ | è¯´æ˜     |
| ------------- | -------- | -------- |
| `user_id`     | int64    | QQ å·    |
| `nickname`    | string   | æ˜µç§°     |
| `avatar`      | string   | å¤´åƒ URL |
| `description` | string   | è£èª‰æè¿° |



### è·å–ç¾¤ç³»ç»Ÿæ¶ˆæ¯

ç»ˆç»“ç‚¹: `/get_group_system_msg`

**å“åº”æ•°æ®**

| å­—æ®µ               | ç±»å‹             | è¯´æ˜         |
| ------------------ | ---------------- | ------------ |
| `invited_requests` | InvitedRequest[] | é‚€è¯·æ¶ˆæ¯åˆ—è¡¨ |
| `join_requests`    | JoinRequest[]    | è¿›ç¾¤æ¶ˆæ¯åˆ—è¡¨ |

::: warning æ³¨æ„
å¦‚æœåˆ—è¡¨ä¸å­˜åœ¨ä»»ä½•æ¶ˆæ¯, å°†è¿”å› `null`
:::

**InvitedRequest**

| å­—æ®µ           | ç±»å‹   | è¯´æ˜              |
| -------------- | ------ | ----------------- |
| `request_id`   | int64  | è¯·æ±‚ID            |
| `invitor_uin`  | int64  | é‚€è¯·è€…            |
| `invitor_nick` | string | é‚€è¯·è€…æ˜µç§°        |
| `group_id`     | int64  | ç¾¤å·              |
| `group_name`   | string | ç¾¤å              |
| `checked`      | bool   | æ˜¯å¦å·²è¢«å¤„ç†      |
| `actor`        | int64  | å¤„ç†è€…, æœªå¤„ç†ä¸º0 |

**JoinRequest**

| å­—æ®µ             | ç±»å‹   | è¯´æ˜              |
| ---------------- | ------ | ----------------- |
| `request_id`     | int64  | è¯·æ±‚ID            |
| `requester_uin`  | int64  | è¯·æ±‚è€…ID          |
| `requester_nick` | string | è¯·æ±‚è€…æ˜µç§°        |
| `message`        | string | éªŒè¯æ¶ˆæ¯          |
| `group_id`       | int64  | ç¾¤å·              |
| `group_name`     | string | ç¾¤å              |
| `checked`        | bool   | æ˜¯å¦å·²è¢«å¤„ç†      |
| `actor`          | int64  | å¤„ç†è€…, æœªå¤„ç†ä¸º0 |

::: warning æ³¨æ„
åœ¨ `go-cqhttp-v0.9.40` ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæ— æ³•è·å–è¢«è¿‡æ»¤çš„ç¾¤ç³»ç»Ÿæ¶ˆæ¯
:::



### è·å–ç²¾åæ¶ˆæ¯åˆ—è¡¨

ç»ˆç»“ç‚¹: `/get_essence_msg_list`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹  | è¯´æ˜ |
| ---------- | ----- | ---- |
| `group_id` | int64 | ç¾¤å· |

**å“åº”æ•°æ®**

å“åº”å†…å®¹ä¸º JSON æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å¦‚ä¸‹ï¼š

| å­—æ®µå          | æ•°æ®ç±»å‹ | è¯´æ˜         |
| --------------- | -------- | ------------ |
| `sender_id`     | int64    | å‘é€è€…QQ å·  |
| `sender_nick`   | string   | å‘é€è€…æ˜µç§°   |
| `sender_time`   | int64    | æ¶ˆæ¯å‘é€æ—¶é—´ |
| `operator_id`   | int64    | æ“ä½œè€…QQ å·  |
| `operator_nick` | string   | æ“ä½œè€…æ˜µç§°   |
| `operator_time` | int64    | ç²¾åè®¾ç½®æ—¶é—´ |
| `message_id`    | int32    | æ¶ˆæ¯ID       |



### è·å–ç¾¤ @å…¨ä½“æˆå‘˜ å‰©ä½™æ¬¡æ•°

ç»ˆç»“ç‚¹: `/get_group_at_all_remain`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹  | è¯´æ˜ |
| ---------- | ----- | ---- |
| `group_id` | int64 | ç¾¤å· |

**å“åº”æ•°æ®**

| å­—æ®µ                            | ç±»å‹  | è¯´æ˜                                |
| ------------------------------- | ----- | ----------------------------------- |
| `can_at_all`                    | bool  | æ˜¯å¦å¯ä»¥ @å…¨ä½“æˆå‘˜                  |
| `remain_at_all_count_for_group` | int16 | ç¾¤å†…æ‰€æœ‰ç®¡ç†å½“å¤©å‰©ä½™ @å…¨ä½“æˆå‘˜ æ¬¡æ•° |
| `remain_at_all_count_for_uin`   | int16 | Bot å½“å¤©å‰©ä½™ @å…¨ä½“æˆå‘˜ æ¬¡æ•°         |





## ç¾¤è®¾ç½®

ç¾¤è®¾ç½®ç›¸å…³ API



### è®¾ç½®ç¾¤å

ç»ˆç»“ç‚¹ï¼š`/set_group_name`

**å‚æ•°**

| å­—æ®µå       | æ•°æ®ç±»å‹ | è¯´æ˜   |
| ------------ | -------- | ------ |
| `group_id`   | int64    | ç¾¤å·   |
| `group_name` | string   | æ–°ç¾¤å |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### è®¾ç½®ç¾¤å¤´åƒ

ç»ˆç»“ç‚¹: `/set_group_portrait`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹   | è¯´æ˜                     |
| ---------- | ------ | ------------------------ |
| `group_id` | int64  | ç¾¤å·                     |
| `file`     | string | å›¾ç‰‡æ–‡ä»¶å               |
| `cache`    | int    | è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨å·²ç¼“å­˜çš„æ–‡ä»¶ |

[1] `file` **å‚æ•°**æ”¯æŒä»¥ä¸‹å‡ ç§æ ¼å¼ï¼š

- ç»å¯¹è·¯å¾„, ä¾‹å¦‚ `file:///C:\\Users\Richard\Pictures\1.png`, æ ¼å¼ä½¿ç”¨ [`file` URI](https://tools.ietf.org/html/rfc8089)
- ç½‘ç»œ URL, ä¾‹å¦‚ `http://i1.piimg.com/567571/fdd6e7b6d93f1ef0.jpg`
- Base64 ç¼–ç , ä¾‹å¦‚ `base64://iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAAKElEQVQ4EWPk5+RmIBcwkasRpG9UM4mhNxpgowFGMARGEwnBIEJVAAAdBgBNAZf+QAAAAABJRU5ErkJggg==`

[2] `cache`**å‚æ•°**: é€šè¿‡ç½‘ç»œ URL å‘é€æ—¶æœ‰æ•ˆ, `1`è¡¨ç¤ºä½¿ç”¨ç¼“å­˜, `0`å…³é—­å…³é—­ç¼“å­˜, é»˜è®¤ ä¸º`1`

[3] ç›®å‰è¿™ä¸ªAPIåœ¨ç™»å½•ä¸€æ®µæ—¶é—´åå› cookieå¤±æ•ˆè€Œå¤±æ•ˆ, è¯·è€ƒè™‘åä½¿ç”¨



### è®¾ç½®ç¾¤ç®¡ç†å‘˜

ç»ˆç»“ç‚¹ï¼š`/set_group_admin`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                      |
| ---------- | -------- | ------ | ------------------------- |
| `group_id` | int64    | -      | ç¾¤å·                      |
| `user_id`  | int64    | -      | è¦è®¾ç½®ç®¡ç†å‘˜çš„ QQ å·      |
| `enable`   | boolean  | `true` | true ä¸ºè®¾ç½®, false ä¸ºå–æ¶ˆ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### è®¾ç½®ç¾¤åç‰‡ ( ç¾¤å¤‡æ³¨ )

ç»ˆç»“ç‚¹ï¼š`/set_group_card`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                     |
| ---------- | -------- | ------ | ---------------------------------------- |
| `group_id` | int64    | -      | ç¾¤å·                                     |
| `user_id`  | int64    | -      | è¦è®¾ç½®çš„ QQ å·                           |
| `card`     | string   | ç©º     | ç¾¤åç‰‡å†…å®¹, ä¸å¡«æˆ–ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºåˆ é™¤ç¾¤åç‰‡ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### è®¾ç½®ç¾¤ç»„ä¸“å±å¤´è¡”

ç»ˆç»“ç‚¹ï¼š`/set_group_special_title`

**å‚æ•°**

| å­—æ®µå          | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                                         |
| --------------- | -------- | ------ | ------------------------------------------------------------ |
| `group_id`      | int64    | -      | ç¾¤å·                                                         |
| `user_id`       | int64    | -      | è¦è®¾ç½®çš„ QQ å·                                               |
| `special_title` | string   | ç©º     | ä¸“å±å¤´è¡”, ä¸å¡«æˆ–ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºåˆ é™¤ä¸“å±å¤´è¡”                     |
| `duration`      | uint32   | `-1`   | ä¸“å±å¤´è¡”æœ‰æ•ˆæœŸ, å•ä½ç§’, -1 è¡¨ç¤ºæ°¸ä¹…, ä¸è¿‡æ­¤é¡¹ä¼¼ä¹æ²¡æœ‰æ•ˆæœ, å¯èƒ½æ˜¯åªæœ‰æŸäº›ç‰¹æ®Šçš„æ—¶é—´é•¿åº¦æœ‰æ•ˆ, æœ‰å¾…æµ‹è¯• |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



## ç¾¤æ“ä½œ

ç¾¤æ“ä½œç›¸å…³ API



### ç¾¤å•äººç¦è¨€

ç»ˆç»“ç‚¹ï¼š`/set_group_ban`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼    | è¯´æ˜                             |
| ---------- | -------- | --------- | -------------------------------- |
| `group_id` | int64    | -         | ç¾¤å·                             |
| `user_id`  | int64    | -         | è¦ç¦è¨€çš„ QQ å·                   |
| `duration` | uint32   | `30 * 60` | ç¦è¨€æ—¶é•¿, å•ä½ç§’, 0 è¡¨ç¤ºå–æ¶ˆç¦è¨€ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### ç¾¤å…¨å‘˜ç¦è¨€

ç»ˆç»“ç‚¹ï¼š`/set_group_whole_ban`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜     |
| ---------- | -------- | ------ | -------- |
| `group_id` | int64    | -      | ç¾¤å·     |
| `enable`   | boolean  | `true` | æ˜¯å¦ç¦è¨€ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### ç¾¤åŒ¿åç”¨æˆ·ç¦è¨€

::: warning æ³¨æ„
è¯¥ API ä» go-cqhttp-v0.9.36 å¼€å§‹æ”¯æŒ
:::

ç»ˆç»“ç‚¹ï¼š`/set_group_anonymous_ban`

**å‚æ•°**

| å­—æ®µå                     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼    | è¯´æ˜                                                        |
| -------------------------- | -------- | --------- | ----------------------------------------------------------- |
| `group_id`                 | int64    | -         | ç¾¤å·                                                        |
| `anonymous`                | object   | -         | å¯é€‰, è¦ç¦è¨€çš„åŒ¿åç”¨æˆ·å¯¹è±¡ï¼ˆç¾¤æ¶ˆæ¯ä¸ŠæŠ¥çš„ `anonymous` å­—æ®µï¼‰ |
| `anonymous_flag` æˆ– `flag` | string   | -         | å¯é€‰, è¦ç¦è¨€çš„åŒ¿åç”¨æˆ·çš„ flagï¼ˆéœ€ä»ç¾¤æ¶ˆæ¯ä¸ŠæŠ¥çš„æ•°æ®ä¸­è·å¾—ï¼‰ |
| `duration`                 | uint32   | `30 * 60` | ç¦è¨€æ—¶é•¿, å•ä½ç§’, æ— æ³•å–æ¶ˆåŒ¿åç”¨æˆ·ç¦è¨€                      |

::: tip æç¤º
ä¸Šé¢çš„ `anonymous` å’Œ `anonymous_flag` ä¸¤è€…ä»»é€‰å…¶ä¸€ä¼ å…¥å³å¯, è‹¥éƒ½ä¼ å…¥, åˆ™ä½¿ç”¨ `anonymous`ã€‚
:::

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### è®¾ç½®ç²¾åæ¶ˆæ¯

ç»ˆç»“ç‚¹: `/set_essence_msg`

**å‚æ•°**

| å­—æ®µ         | ç±»å‹  | è¯´æ˜   |
| ------------ | ----- | ------ |
| `message_id` | int32 | æ¶ˆæ¯ID |

::: tip æç¤º
è¯¥ API æ²¡æœ‰å“åº”æ•°æ®
:::



### ç§»å‡ºç²¾åæ¶ˆæ¯

ç»ˆç»“ç‚¹: `/delete_essence_msg`

**å‚æ•°**

| å­—æ®µ         | ç±»å‹  | è¯´æ˜   |
| ------------ | ----- | ------ |
| `message_id` | int32 | æ¶ˆæ¯ID |

::: tip æç¤º
è¯¥ API æ²¡æœ‰å“åº”æ•°æ®
:::



### ç¾¤æ‰“å¡

ç»ˆç»“ç‚¹ï¼š`/send_group_sign`

| å­—æ®µå     | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ---------- | -------- | ---- |
| `group_id` | int64    | ç¾¤å· |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### ç¾¤è®¾ç½®åŒ¿å

ç»ˆç»“ç‚¹ï¼š`/set_group_anonymous`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜             |
| ---------- | -------- | ------ | ---------------- |
| `group_id` | int64    | -      | ç¾¤å·             |
| `enable`   | boolean  | `true` | æ˜¯å¦å…è®¸åŒ¿åèŠå¤© |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### å‘é€ç¾¤å…¬å‘Š


ç»ˆç»“ç‚¹ï¼š `/_send_group_notice`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜             |
| ---------- | -------- | ------ | ---------------- |
| `group_id` | int64    |        | ç¾¤å·             |
| `content`  | string   |        | å…¬å‘Šå†…å®¹         |
| `image`    | string   |        | å›¾ç‰‡è·¯å¾„ï¼ˆå¯é€‰ï¼‰ |

::: tip æç¤º
è¯¥ API æ²¡æœ‰å“åº”æ•°æ®
:::




### è·å–ç¾¤å…¬å‘Š


ç»ˆç»“ç‚¹ï¼š `/_get_group_notice`

**å‚æ•°**

| å­—æ®µå     | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ---------- | -------- | ------ | ---- |
| `group_id` | int64    |        | ç¾¤å· |


**å“åº”æ•°æ®**

å“åº”å†…å®¹ä¸º json æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å†…å®¹å¦‚ä¸‹ï¼š

| å­—æ®µ           | ç±»å‹   | è¯´æ˜         |
| -------------- | ------ | ------------ |
| `sender_id`    | int64  | å…¬å‘Šå‘è¡¨è€…   |
| `publish_time` | int64  | å…¬å‘Šå‘è¡¨æ—¶é—´ |
| `message`      | object | å…¬å‘Šå†…å®¹     |

å…¶ä¸­ `message` å­—æ®µçš„å†…å®¹å¦‚ä¸‹ï¼š

| å­—æ®µ     | ç±»å‹   | è¯´æ˜     |
| -------- | ------ | -------- |
| `text`   | string | å…¬å‘Šå†…å®¹ |
| `images` | array  | å…¬å‘Šå›¾ç‰‡ |

å…¶ä¸­ `images` å­—æ®µæ¯ä¸ªå…ƒç´ å†…å®¹å¦‚ä¸‹ï¼š

| å­—æ®µ     | ç±»å‹   | è¯´æ˜     |
| -------- | ------ | -------- |
| `height` | string | å›¾ç‰‡é«˜åº¦ |
| `width`  | string | å›¾ç‰‡å®½åº¦ |
| `id`     | string | å›¾ç‰‡ID   |



### ç¾¤ç»„è¸¢äºº

ç»ˆç»“ç‚¹ï¼š`/set_group_kick`

**å‚æ•°**

| å­—æ®µå               | æ•°æ®ç±»å‹ | é»˜è®¤å€¼  | è¯´æ˜               |
| -------------------- | -------- | ------- | ------------------ |
| `group_id`           | int64    | -       | ç¾¤å·               |
| `user_id`            | int64    | -       | è¦è¸¢çš„ QQ å·       |
| `reject_add_request` | boolean  | `false` | æ‹’ç»æ­¤äººçš„åŠ ç¾¤è¯·æ±‚ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### é€€å‡ºç¾¤ç»„

ç»ˆç»“ç‚¹ï¼š`/set_group_leave`

**å‚æ•°**

| å­—æ®µå       | æ•°æ®ç±»å‹ | é»˜è®¤å€¼  | è¯´æ˜                                                     |
| ------------ | -------- | ------- | -------------------------------------------------------- |
| `group_id`   | int64    | -       | ç¾¤å·                                                     |
| `is_dismiss` | boolean  | `false` | æ˜¯å¦è§£æ•£, å¦‚æœç™»å½•å·æ˜¯ç¾¤ä¸», åˆ™ä»…åœ¨æ­¤é¡¹ä¸º true æ—¶èƒ½å¤Ÿè§£æ•£ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::





## æ–‡ä»¶



### ä¸Šä¼ ç¾¤æ–‡ä»¶

ç»ˆç»“ç‚¹: `/upload_group_file`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹   | è¯´æ˜         |
| ---------- | ------ | ------------ |
| `group_id` | int64  | ç¾¤å·         |
| `file`     | string | æœ¬åœ°æ–‡ä»¶è·¯å¾„ |
| `name`     | string | å‚¨å­˜åç§°     |
| `folder`   | string | çˆ¶ç›®å½•ID     |

::: warning æ³¨æ„
åœ¨ä¸æä¾› `folder` å‚æ•°çš„æƒ…å†µä¸‹é»˜è®¤ä¸Šä¼ åˆ°æ ¹ç›®å½•

åªèƒ½ä¸Šä¼ æœ¬åœ°æ–‡ä»¶, éœ€è¦ä¸Šä¼  `http` æ–‡ä»¶çš„è¯è¯·å…ˆè°ƒç”¨ [`download_file` API](#ä¸‹è½½æ–‡ä»¶åˆ°ç¼“å­˜ç›®å½•)ä¸‹è½½
:::



### åˆ é™¤ç¾¤æ–‡ä»¶

::: tip æç¤º
`File` å¯¹è±¡ä¿¡æ¯è¯·å‚è€ƒæœ€ä¸‹æ–¹
:::

ç»ˆç»“ç‚¹: `/delete_group_file`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹   | è¯´æ˜                      |
| ---------- | ------ | ------------------------- |
| `group_id` | int64  | ç¾¤å·                      |
| `file_id`  | string | æ–‡ä»¶ID å‚è€ƒ `File` å¯¹è±¡   |
| `busid`    | int32  | æ–‡ä»¶ç±»å‹ å‚è€ƒ `File` å¯¹è±¡ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### åˆ›å»ºç¾¤æ–‡ä»¶æ–‡ä»¶å¤¹

::: warning æ³¨æ„
ä»…èƒ½åœ¨æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶å¤¹
:::

ç»ˆç»“ç‚¹: `/create_group_file_folder`

**å‚æ•°**

| å­—æ®µ        | ç±»å‹   | è¯´æ˜       |
| ----------- | ------ | ---------- |
| `group_id`  | int64  | ç¾¤å·       |
| `name`      | string | æ–‡ä»¶å¤¹åç§° |
| `parent_id` | string | ä»…èƒ½ä¸º `/` |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### åˆ é™¤ç¾¤æ–‡ä»¶æ–‡ä»¶å¤¹

::: tip æç¤º
`Folder` å¯¹è±¡ä¿¡æ¯è¯·å‚è€ƒæœ€ä¸‹æ–¹
:::

ç»ˆç»“ç‚¹: `/delete_group_folder`

| å­—æ®µ        | ç±»å‹   | è¯´æ˜                        |
| ----------- | ------ | --------------------------- |
| `group_id`  | int64  | ç¾¤å·                        |
| `folder_id` | string | æ–‡ä»¶å¤¹ID å‚è€ƒ `Folder` å¯¹è±¡ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### è·å–ç¾¤æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯

ç»ˆç»“ç‚¹: `/get_group_file_system_info`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹  | è¯´æ˜ |
| ---------- | ----- | ---- |
| `group_id` | int64 | ç¾¤å· |

**å“åº”æ•°æ®**

| å­—æ®µ          | ç±»å‹  | è¯´æ˜       |
| ------------- | ----- | ---------- |
| `file_count`  | int32 | æ–‡ä»¶æ€»æ•°   |
| `limit_count` | int32 | æ–‡ä»¶ä¸Šé™   |
| `used_space`  | int64 | å·²ä½¿ç”¨ç©ºé—´ |
| `total_space` | int64 | ç©ºé—´ä¸Šé™   |



### è·å–ç¾¤æ ¹ç›®å½•æ–‡ä»¶åˆ—è¡¨

::: tip æç¤º
`File` å’Œ `Folder` å¯¹è±¡ä¿¡æ¯è¯·å‚è€ƒæœ€ä¸‹æ–¹
:::

ç»ˆç»“ç‚¹: `/get_group_root_files`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹  | è¯´æ˜ |
| ---------- | ----- | ---- |
| `group_id` | int64 | ç¾¤å· |

**å“åº”æ•°æ®**

| å­—æ®µ      | ç±»å‹     | è¯´æ˜       |
| --------- | -------- | ---------- |
| `files`   | File[]   | æ–‡ä»¶åˆ—è¡¨   |
| `folders` | Folder[] | æ–‡ä»¶å¤¹åˆ—è¡¨ |



### è·å–ç¾¤å­ç›®å½•æ–‡ä»¶åˆ—è¡¨

::: tip æç¤º
`File` å’Œ `Folder` å¯¹è±¡ä¿¡æ¯è¯·å‚è€ƒæœ€ä¸‹æ–¹
:::

ç»ˆç»“ç‚¹: `/get_group_files_by_folder`

**å‚æ•°**

| å­—æ®µ        | ç±»å‹   | è¯´æ˜                        |
| ----------- | ------ | --------------------------- |
| `group_id`  | int64  | ç¾¤å·                        |
| `folder_id` | string | æ–‡ä»¶å¤¹ID å‚è€ƒ `Folder` å¯¹è±¡ |

**å“åº”æ•°æ®**

| å­—æ®µ      | ç±»å‹     | è¯´æ˜       |
| --------- | -------- | ---------- |
| `files`   | File[]   | æ–‡ä»¶åˆ—è¡¨   |
| `folders` | Folder[] | æ–‡ä»¶å¤¹åˆ—è¡¨ |



### è·å–ç¾¤æ–‡ä»¶èµ„æºé“¾æ¥

::: tip æç¤º
`File` å’Œ `Folder` å¯¹è±¡ä¿¡æ¯è¯·å‚è€ƒæœ€ä¸‹æ–¹
:::

ç»ˆç»“ç‚¹: `/get_group_file_url`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹   | è¯´æ˜                      |
| ---------- | ------ | ------------------------- |
| `group_id` | int64  | ç¾¤å·                      |
| `file_id`  | string | æ–‡ä»¶ID å‚è€ƒ `File` å¯¹è±¡   |
| `busid`    | int32  | æ–‡ä»¶ç±»å‹ å‚è€ƒ `File` å¯¹è±¡ |

**å“åº”æ•°æ®**

| å­—æ®µ  | ç±»å‹   | è¯´æ˜         |
| ----- | ------ | ------------ |
| `url` | string | æ–‡ä»¶ä¸‹è½½é“¾æ¥ |

**File**

| å­—æ®µ             | ç±»å‹   | è¯´æ˜                   |
| ---------------- | ------ | ---------------------- |
| `group_id`       | int32  | ç¾¤å·                   |
| `file_id`        | string | æ–‡ä»¶ID                 |
| `file_name`      | string | æ–‡ä»¶å                 |
| `busid`          | int32  | æ–‡ä»¶ç±»å‹               |
| `file_size`      | int64  | æ–‡ä»¶å¤§å°               |
| `upload_time`    | int64  | ä¸Šä¼ æ—¶é—´               |
| `dead_time`      | int64  | è¿‡æœŸæ—¶é—´,æ°¸ä¹…æ–‡ä»¶æ’ä¸º0 |
| `modify_time`    | int64  | æœ€åä¿®æ”¹æ—¶é—´           |
| `download_times` | int32  | ä¸‹è½½æ¬¡æ•°               |
| `uploader`       | int64  | ä¸Šä¼ è€…ID               |
| `uploader_name`  | string | ä¸Šä¼ è€…åå­—             |

**Folder**

| å­—æ®µ               | ç±»å‹   | è¯´æ˜       |
| ------------------ | ------ | ---------- |
| `group_id`         | int32  | ç¾¤å·       |
| `folder_id`        | string | æ–‡ä»¶å¤¹ID   |
| `folder_name`      | string | æ–‡ä»¶å     |
| `create_time`      | int64  | åˆ›å»ºæ—¶é—´   |
| `creator`          | int64  | åˆ›å»ºè€…     |
| `creator_name`     | string | åˆ›å»ºè€…åå­— |
| `total_file_count` | int32  | å­æ–‡ä»¶æ•°é‡ |



### ä¸Šä¼ ç§èŠæ–‡ä»¶

ç»ˆç»“ç‚¹: `/upload_private_file`

**å‚æ•°**

| å­—æ®µ      | ç±»å‹   | è¯´æ˜         |
| --------- | ------ | ------------ |
| `user_id` | int64  | å¯¹æ–¹ QQ å·   |
| `file`    | string | æœ¬åœ°æ–‡ä»¶è·¯å¾„ |
| `name`    | string | æ–‡ä»¶åç§°     |

::: warning æ³¨æ„
åªèƒ½ä¸Šä¼ æœ¬åœ°æ–‡ä»¶, éœ€è¦ä¸Šä¼  `http` æ–‡ä»¶çš„è¯è¯·å…ˆè°ƒç”¨ [`download_file` API](#ä¸‹è½½æ–‡ä»¶åˆ°ç¼“å­˜ç›®å½•)ä¸‹è½½
:::



## Go-CqHttp ç›¸å…³















### è·å– Cookies

::: warning æ³¨æ„
è¯¥ API æš‚æœªè¢« go-cqhttp æ”¯æŒ, æ‚¨å¯ä»¥æäº¤ pr ä»¥ä½¿è¯¥ API è¢«æ”¯æŒ
[æäº¤ pr](https://github.com/Mrs4s/go-cqhttp/compare)
:::

ç»ˆç»“ç‚¹ï¼š`/get_cookies`

**å‚æ•°**

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `domain` | string | ç©º | éœ€è¦è·å– cookies çš„åŸŸå |

**å“åº”æ•°æ®**

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `cookies` | string | Cookies |

### è·å– CSRF Token

::: warning æ³¨æ„
è¯¥ API æš‚æœªè¢« go-cqhttp æ”¯æŒ, æ‚¨å¯ä»¥æäº¤ pr ä»¥ä½¿è¯¥ API è¢«æ”¯æŒ
[æäº¤ pr](https://github.com/Mrs4s/go-cqhttp/compare)
:::

ç»ˆç»“ç‚¹ï¼š`/get_csrf_token`

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°
:::

**å“åº”æ•°æ®**

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `token` | int32 | CSRF Token |

### è·å– QQ ç›¸å…³æ¥å£å‡­è¯

::: warning æ³¨æ„
è¯¥ API æš‚æœªè¢« go-cqhttp æ”¯æŒ, æ‚¨å¯ä»¥æäº¤ pr ä»¥ä½¿è¯¥ API è¢«æ”¯æŒ
[æäº¤ pr](https://github.com/Mrs4s/go-cqhttp/compare)
:::

::: tip æç¤º
å³ä¸Šé¢ä¸¤ä¸ªæ¥å£çš„åˆå¹¶
:::

ç»ˆç»“ç‚¹ï¼š`/get_credentials`

**å‚æ•°**

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `domain` | string | ç©º | éœ€è¦è·å– cookies çš„åŸŸå |

**å“åº”æ•°æ®**

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `cookies` | string | Cookies |
| `csrf_token` | int32 | CSRF Token |



### è·å–ç‰ˆæœ¬ä¿¡æ¯

ç»ˆç»“ç‚¹ï¼š`/get_version_info`

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°
:::

**å“åº”æ•°æ®**

| å­—æ®µå | æ•°æ®ç±»å‹   | é»˜è®¤å€¼          | è¯´æ˜ |
| ----- |--------|--------------| ---- |
| `app_name` | string | `go-cqhttp`  | åº”ç”¨æ ‡è¯†, å¦‚ `go-cqhttp` å›ºå®šå€¼ |
| `app_version` | string |              | åº”ç”¨ç‰ˆæœ¬, å¦‚ `v0.9.40-fix4` |
| `app_full_name` | string |              | åº”ç”¨å®Œæ•´åç§° |
| `protocol_name` | int    | 6            |  |
| `protocol_version` | string | `v11`        | OneBot æ ‡å‡†ç‰ˆæœ¬ å›ºå®šå€¼ |
| `coolq_edition` | string | `pro`        | åŸCoolqç‰ˆæœ¬ å›ºå®šå€¼ |
| `coolq_directory` | string |              |  |
| `go-cqhttp` | bool   | true         | æ˜¯å¦ä¸ºgo-cqhttp å›ºå®šå€¼ |
| `plugin_version` | string | `4.15.0`     | å›ºå®šå€¼ |
| `plugin_build_number` | int    | 99           | å›ºå®šå€¼ |
| `plugin_build_configuration` | string | `release`    | å›ºå®šå€¼ |
| `runtime_version` | string |              |  |
| `runtime_os` | string |              |  |
| `version` | string |              | åº”ç”¨ç‰ˆæœ¬, å¦‚ `v0.9.40-fix4` |



### è·å–çŠ¶æ€

ç»ˆç»“ç‚¹: `/get_status`

**å“åº”æ•°æ®**

| å­—æ®µ              | ç±»å‹       | è¯´æ˜                            |
| ----------------- | ---------- | ------------------------------- |
| `app_initialized` | bool       | åŸ `CQHTTP` å­—æ®µ, æ’å®šä¸º `true` |
| `app_enabled`     | bool       | åŸ `CQHTTP` å­—æ®µ, æ’å®šä¸º `true` |
| `plugins_good`    | bool       | åŸ `CQHTTP` å­—æ®µ, æ’å®šä¸º `true` |
| `app_good`        | bool       | åŸ `CQHTTP` å­—æ®µ, æ’å®šä¸º `true` |
| `online`          | bool       | è¡¨ç¤ºBOTæ˜¯å¦åœ¨çº¿                 |
| `good`            | bool       | åŒ `online`                     |
| `stat`            | Statistics | è¿è¡Œç»Ÿè®¡                        |

**Statistics**


| å­—æ®µ              | ç±»å‹   | è¯´æ˜             |
| ----------------- | ------ | ---------------- |
| `packet_received`  | uint64 | æ”¶åˆ°çš„æ•°æ®åŒ…æ€»æ•° |
| `packet_sent`      | uint64 | å‘é€çš„æ•°æ®åŒ…æ€»æ•° |
| `packet_lost`      | uint32 | æ•°æ®åŒ…ä¸¢å¤±æ€»æ•°   |
| `message_received` | uint64 | æ¥å—ä¿¡æ¯æ€»æ•°     |
| `message_sent`     | uint64 | å‘é€ä¿¡æ¯æ€»æ•°     |
| `disconnect_times` | uint32 | TCP é“¾æ¥æ–­å¼€æ¬¡æ•° |
| `lost_times`       | uint32 | è´¦å·æ‰çº¿æ¬¡æ•°     |
| `last_message_time` | int64  | æœ€åä¸€æ¡æ¶ˆæ¯æ—¶é—´ |

::: warning æ³¨æ„
æ‰€æœ‰ç»Ÿè®¡ä¿¡æ¯éƒ½å°†åœ¨é‡å¯åé‡ç½®
:::



### é‡å¯ Go-CqHttp

::: danger æ³¨æ„
è¯¥ API ç”±äºæŠ€æœ¯åŸå› ï¼Œè‡ª 1.0.0 ç‰ˆæœ¬å·²è¢«ç§»é™¤ï¼Œç›®å‰æš‚æ—¶æ²¡æœ‰å†åŠ å…¥çš„è®¡åˆ’
[#1230](https://github.com/Mrs4s/go-cqhttp/issues/1230)
:::

ç»ˆç»“ç‚¹ï¼š`/set_restart`

ç”±äºé‡å¯ go-cqhttp å®ç°åŒæ—¶éœ€è¦é‡å¯ API æœåŠ¡, è¿™æ„å‘³ç€å½“å‰çš„ API è¯·æ±‚ä¼šè¢«ä¸­æ–­, å› æ­¤éœ€è¦å¼‚æ­¥åœ°é‡å¯, æ¥å£è¿”å›çš„ `status` æ˜¯ `async`ã€‚

**å‚æ•°**

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `delay` | number | `0` | è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°, å¦‚æœé»˜è®¤æƒ…å†µä¸‹æ— æ³•é‡å¯, å¯ä»¥å°è¯•è®¾ç½®å»¶è¿Ÿä¸º 2000 å·¦å³ |

::: tip æç¤º
è¯¥ API æ— å“åº”æ•°æ®
:::



### æ¸…ç†ç¼“å­˜

::: warning æ³¨æ„
è¯¥ API æš‚æœªè¢« go-cqhttp æ”¯æŒ, æ‚¨å¯ä»¥æäº¤ pr ä»¥ä½¿è¯¥ API è¢«æ”¯æŒ
[æäº¤ pr](https://github.com/Mrs4s/go-cqhttp/compare)
:::

ç»ˆç»“ç‚¹ï¼š`/clean_cache`

ç”¨äºæ¸…ç†ç§¯æ”’äº†å¤ªå¤šçš„ç¼“å­˜æ–‡ä»¶ã€‚

::: tip æç¤º
è¯¥ API æ— éœ€å‚æ•°ä¹Ÿæ²¡æœ‰å“åº”æ•°æ®
:::




### é‡è½½äº‹ä»¶è¿‡æ»¤å™¨

ç»ˆç»“ç‚¹ï¼š`/reload_event_filter`

**å‚æ•°**

| å­—æ®µå  | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| -----  | -------- | ----- | ---- |
| `file` | string | - | äº‹ä»¶è¿‡æ»¤å™¨æ–‡ä»¶ |

::: tip æç¤º
è¯¥ API æ²¡æœ‰å“åº”æ•°æ®
:::

### ä¸‹è½½æ–‡ä»¶åˆ°ç¼“å­˜ç›®å½•

ç»ˆç»“ç‚¹: `/download_file`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹   | è¯´æ˜                      |
| ---------- | ------ | ------------------------- |
| `url` | string  | é“¾æ¥åœ°å€                      |
| `thread_count` | int32  | ä¸‹è½½çº¿ç¨‹æ•°            |
| `headers` | string or array  | è‡ªå®šä¹‰è¯·æ±‚å¤´    |

**`headers`æ ¼å¼:**

å­—ç¬¦ä¸²:

```
User-Agent=YOUR_UA[\r\n]Referer=https://www.baidu.com
```

::: tip æç¤º
`[\r\n]` ä¸ºæ¢è¡Œç¬¦, ä½¿ç”¨httpè¯·æ±‚æ—¶è¯·æ³¨æ„ç¼–ç 
:::

JSONæ•°ç»„:

```json
[
    "User-Agent=YOUR_UA",
    "Referer=https://www.baidu.com"
]
```

**å“åº”æ•°æ®**

| å­—æ®µ        | ç±»å‹       | è¯´æ˜            |
| ---------- | ---------- | ------------ |
| `file`    | string       |  ä¸‹è½½æ–‡ä»¶çš„*ç»å¯¹è·¯å¾„*        |

::: tip æç¤º
é€šè¿‡è¿™ä¸ªAPIä¸‹è½½çš„æ–‡ä»¶èƒ½ç›´æ¥æ”¾å…¥CQç ä½œä¸ºå›¾ç‰‡æˆ–è¯­éŸ³å‘é€

è°ƒç”¨åä¼šé˜»å¡ç›´åˆ°ä¸‹è½½å®Œæˆåæ‰ä¼šè¿”å›æ•°æ®ï¼Œè¯·æ³¨æ„ä¸‹è½½å¤§æ–‡ä»¶æ—¶çš„è¶…æ—¶
:::



### æ£€æŸ¥é“¾æ¥å®‰å…¨æ€§

ç»ˆç»“ç‚¹ï¼š`/check_url_safely`

**å‚æ•°**

| å­—æ®µ       | ç±»å‹   | è¯´æ˜                      |
| ---------- | ------ | ------------------------- |
| `url` | string  | éœ€è¦æ£€æŸ¥çš„é“¾æ¥  |

**å“åº”æ•°æ®**

| å­—æ®µ        | ç±»å‹       | è¯´æ˜            |
| ---------- | ---------- | ------------ |
| `level`    | int       |  å®‰å…¨ç­‰çº§, 1: å®‰å…¨ 2: æœªçŸ¥ 3: å±é™©  |



### è·å–ä¸­æ–‡åˆ†è¯ ( éšè— API )

::: danger è­¦å‘Š
éšè— API æ˜¯ä¸å»ºè®®ä¸€èˆ¬ç”¨æˆ·ä½¿ç”¨çš„, å®ƒä»¬åªåº”è¯¥åœ¨ OneBot å®ç°å†…éƒ¨æˆ–ç”± SDK å’Œæ¡†æ¶ä½¿ç”¨, å› ä¸ºä¸æ­£ç¡®çš„ä½¿ç”¨å¯èƒ½é€ æˆç¨‹åºè¿è¡Œä¸æ­£å¸¸ã€‚
:::

ç»ˆç»“ç‚¹: `/.get_word_slices`

**å‚æ•°**

| å­—æ®µ      | ç±»å‹   | è¯´æ˜ |
| --------- | ------ | ---- |
| `content` | string | å†…å®¹ |

**å“åº”æ•°æ®**

| å­—æ®µ     | ç±»å‹     | è¯´æ˜ |
| -------- | -------- | ---- |
| `slices` | string[] | è¯ç»„ |



### å¯¹äº‹ä»¶æ‰§è¡Œå¿«é€Ÿæ“ä½œ ( éšè— API )

::: warning æ³¨æ„
éšè— API æ˜¯ä¸å»ºè®®ä¸€èˆ¬ç”¨æˆ·ä½¿ç”¨çš„, å®ƒä»¬åªåº”è¯¥åœ¨ OneBot å®ç°å†…éƒ¨æˆ–ç”± SDK å’Œæ¡†æ¶ä½¿ç”¨, å› ä¸ºä¸æ­£ç¡®çš„ä½¿ç”¨å¯èƒ½é€ æˆç¨‹åºè¿è¡Œä¸æ­£å¸¸ã€‚
:::

ç»ˆç»“ç‚¹ï¼š`/.handle_quick_operation`

å…³äºäº‹ä»¶çš„å¿«é€Ÿæ“ä½œ, è§ [å¿«é€Ÿæ“ä½œ](../event/#å¿«é€Ÿæ“ä½œ)ã€‚

**å‚æ•°**

| å­—æ®µå      | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜                                                        |
| ----------- | -------- | ------ | ----------------------------------------------------------- |
| `context`   | object   | -      | äº‹ä»¶æ•°æ®å¯¹è±¡, å¯åšç²¾ç®€, å¦‚å»æ‰ `message` ç­‰æ— ç”¨å­—æ®µ         |
| `operation` | object   | -      | å¿«é€Ÿæ“ä½œå¯¹è±¡, ä¾‹å¦‚ `{"ban": true, "reply": "è¯·ä¸è¦è¯´è„è¯"}` |

::: tip æç¤º
è¯¥ API æ²¡æœ‰å“åº”æ•°æ®
:::
```

--------------------------------------------------------------------------------
æ–‡ä»¶è·¯å¾„: I:\github\FengM\Napcat_api_doc\api\ob_api.md
--------------------------------------------------------------------------------

```md
# å…¬å¼€ API

- [`send_private_msg` å‘é€ç§èŠæ¶ˆæ¯](#send_private_msg-å‘é€ç§èŠæ¶ˆæ¯)
- [`send_group_msg` å‘é€ç¾¤æ¶ˆæ¯](#send_group_msg-å‘é€ç¾¤æ¶ˆæ¯)
- [`send_msg` å‘é€æ¶ˆæ¯](#send_msg-å‘é€æ¶ˆæ¯)
- [`delete_msg` æ’¤å›æ¶ˆæ¯](#delete_msg-æ’¤å›æ¶ˆæ¯)
- [`get_msg` è·å–æ¶ˆæ¯](#get_msg-è·å–æ¶ˆæ¯)
- [`get_forward_msg` è·å–åˆå¹¶è½¬å‘æ¶ˆæ¯](#get_forward_msg-è·å–åˆå¹¶è½¬å‘æ¶ˆæ¯)
- [`send_like` å‘é€å¥½å‹èµ](#send_like-å‘é€å¥½å‹èµ)
- [`set_group_kick` ç¾¤ç»„è¸¢äºº](#set_group_kick-ç¾¤ç»„è¸¢äºº)
- [`set_group_ban` ç¾¤ç»„å•äººç¦è¨€](#set_group_ban-ç¾¤ç»„å•äººç¦è¨€)
- [`set_group_anonymous_ban` ç¾¤ç»„åŒ¿åç”¨æˆ·ç¦è¨€](#set_group_anonymous_ban-ç¾¤ç»„åŒ¿åç”¨æˆ·ç¦è¨€)
- [`set_group_whole_ban` ç¾¤ç»„å…¨å‘˜ç¦è¨€](#set_group_whole_ban-ç¾¤ç»„å…¨å‘˜ç¦è¨€)
- [`set_group_admin` ç¾¤ç»„è®¾ç½®ç®¡ç†å‘˜](#set_group_admin-ç¾¤ç»„è®¾ç½®ç®¡ç†å‘˜)
- [`set_group_anonymous` ç¾¤ç»„åŒ¿å](#set_group_anonymous-ç¾¤ç»„åŒ¿å)
- [`set_group_card` è®¾ç½®ç¾¤åç‰‡ï¼ˆç¾¤å¤‡æ³¨ï¼‰](#set_group_card-è®¾ç½®ç¾¤åç‰‡ç¾¤å¤‡æ³¨)
- [`set_group_name` è®¾ç½®ç¾¤å](#set_group_name-è®¾ç½®ç¾¤å)
- [`set_group_leave` é€€å‡ºç¾¤ç»„](#set_group_leave-é€€å‡ºç¾¤ç»„)
- [`set_group_special_title` è®¾ç½®ç¾¤ç»„ä¸“å±å¤´è¡”](#set_group_special_title-è®¾ç½®ç¾¤ç»„ä¸“å±å¤´è¡”)
- [`set_friend_add_request` å¤„ç†åŠ å¥½å‹è¯·æ±‚](#set_friend_add_request-å¤„ç†åŠ å¥½å‹è¯·æ±‚)
- [`set_group_add_request` å¤„ç†åŠ ç¾¤è¯·æ±‚ï¼é‚€è¯·](#set_group_add_request-å¤„ç†åŠ ç¾¤è¯·æ±‚é‚€è¯·)
- [`get_login_info` è·å–ç™»å½•å·ä¿¡æ¯](#get_login_info-è·å–ç™»å½•å·ä¿¡æ¯)
- [`get_stranger_info` è·å–é™Œç”Ÿäººä¿¡æ¯](#get_stranger_info-è·å–é™Œç”Ÿäººä¿¡æ¯)
- [`get_friend_list` è·å–å¥½å‹åˆ—è¡¨](#get_friend_list-è·å–å¥½å‹åˆ—è¡¨)
- [`get_group_info` è·å–ç¾¤ä¿¡æ¯](#get_group_info-è·å–ç¾¤ä¿¡æ¯)
- [`get_group_list` è·å–ç¾¤åˆ—è¡¨](#get_group_list-è·å–ç¾¤åˆ—è¡¨)
- [`get_group_member_info` è·å–ç¾¤æˆå‘˜ä¿¡æ¯](#get_group_member_info-è·å–ç¾¤æˆå‘˜ä¿¡æ¯)
- [`get_group_member_list` è·å–ç¾¤æˆå‘˜åˆ—è¡¨](#get_group_member_list-è·å–ç¾¤æˆå‘˜åˆ—è¡¨)
- [`get_group_honor_info` è·å–ç¾¤è£èª‰ä¿¡æ¯](#get_group_honor_info-è·å–ç¾¤è£èª‰ä¿¡æ¯)
- [`get_cookies` è·å– Cookies](#get_cookies-è·å–-cookies)
- [`get_csrf_token` è·å– CSRF Token](#get_csrf_token-è·å–-csrf-token)
- [`get_credentials` è·å– QQ ç›¸å…³æ¥å£å‡­è¯](#get_credentials-è·å–-qq-ç›¸å…³æ¥å£å‡­è¯)
- [`get_record` è·å–è¯­éŸ³](#get_record-è·å–è¯­éŸ³)
- [`get_image` è·å–å›¾ç‰‡](#get_image-è·å–å›¾ç‰‡)
- [`can_send_image` æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘é€å›¾ç‰‡](#can_send_image-æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘é€å›¾ç‰‡)
- [`can_send_record` æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘é€è¯­éŸ³](#can_send_record-æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘é€è¯­éŸ³)
- [`get_status` è·å–è¿è¡ŒçŠ¶æ€](#get_status-è·å–è¿è¡ŒçŠ¶æ€)
- [`get_version_info` è·å–ç‰ˆæœ¬ä¿¡æ¯](#get_version_info-è·å–ç‰ˆæœ¬ä¿¡æ¯)
- [`set_restart` é‡å¯ OneBot å®ç°](#set_restart-é‡å¯-onebot-å®ç°)
- [`clean_cache` æ¸…ç†ç¼“å­˜](#clean_cache-æ¸…ç†ç¼“å­˜)

## `send_private_msg` å‘é€ç§èŠæ¶ˆæ¯

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `user_id` | number | - | å¯¹æ–¹ QQ å· |
| `message` | message | - | è¦å‘é€çš„å†…å®¹ |
| `auto_escape` | boolean | `false` | æ¶ˆæ¯å†…å®¹æ˜¯å¦ä½œä¸ºçº¯æ–‡æœ¬å‘é€ï¼ˆå³ä¸è§£æ CQ ç ï¼‰ï¼Œåªåœ¨ `message` å­—æ®µæ˜¯å­—ç¬¦ä¸²æ—¶æœ‰æ•ˆ |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `message_id` | number (int32) | æ¶ˆæ¯ ID |

## `send_group_msg` å‘é€ç¾¤æ¶ˆæ¯

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `message` | message | - | è¦å‘é€çš„å†…å®¹ |
| `auto_escape` | boolean | `false` | æ¶ˆæ¯å†…å®¹æ˜¯å¦ä½œä¸ºçº¯æ–‡æœ¬å‘é€ï¼ˆå³ä¸è§£æ CQ ç ï¼‰ï¼Œåªåœ¨ `message` å­—æ®µæ˜¯å­—ç¬¦ä¸²æ—¶æœ‰æ•ˆ |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `message_id` | number (int32) | æ¶ˆæ¯ ID |

## `send_msg` å‘é€æ¶ˆæ¯

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `message_type` | string | - | æ¶ˆæ¯ç±»å‹ï¼Œæ”¯æŒ `private`ã€`group`ï¼Œåˆ†åˆ«å¯¹åº”ç§èŠã€ç¾¤ç»„ï¼Œå¦‚ä¸ä¼ å…¥ï¼Œåˆ™æ ¹æ®ä¼ å…¥çš„ `*_id` å‚æ•°åˆ¤æ–­ |
| `user_id` | number | - | å¯¹æ–¹ QQ å·ï¼ˆæ¶ˆæ¯ç±»å‹ä¸º `private` æ—¶éœ€è¦ï¼‰ |
| `group_id` | number | - | ç¾¤å·ï¼ˆæ¶ˆæ¯ç±»å‹ä¸º `group` æ—¶éœ€è¦ï¼‰ |
| `message` | message | - | è¦å‘é€çš„å†…å®¹ |
| `auto_escape` | boolean | `false` | æ¶ˆæ¯å†…å®¹æ˜¯å¦ä½œä¸ºçº¯æ–‡æœ¬å‘é€ï¼ˆå³ä¸è§£æ CQ ç ï¼‰ï¼Œåªåœ¨ `message` å­—æ®µæ˜¯å­—ç¬¦ä¸²æ—¶æœ‰æ•ˆ |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `message_id` | number (int32) | æ¶ˆæ¯ ID |

## `delete_msg` æ’¤å›æ¶ˆæ¯

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `message_id` | number (int32) | - | æ¶ˆæ¯ ID |

### å“åº”æ•°æ®

æ— 

## `get_msg` è·å–æ¶ˆæ¯

### å‚æ•°

| å­—æ®µå         | æ•°æ®ç±»å‹  | è¯´æ˜   |
| ------------ | ----- | ------ |
| `message_id` | number (int32) | æ¶ˆæ¯ ID |

### å“åº”æ•°æ®

| å­—æ®µå         | æ•°æ®ç±»å‹    | è¯´æ˜       |
| ------------ | ------- | ---------- |
| `time`       | number (int32) | å‘é€æ—¶é—´   |
| `message_type` | string | æ¶ˆæ¯ç±»å‹ï¼ŒåŒ [æ¶ˆæ¯äº‹ä»¶](../event/message.md) |
| `message_id` | number (int32) | æ¶ˆæ¯ ID     |
| `real_id` | number (int32) | æ¶ˆæ¯çœŸå® ID     |
| `sender`     | object  | å‘é€äººä¿¡æ¯ï¼ŒåŒ [æ¶ˆæ¯äº‹ä»¶](../event/message.md) |
| `message`    | message | æ¶ˆæ¯å†…å®¹   |

## `get_forward_msg` è·å–åˆå¹¶è½¬å‘æ¶ˆæ¯

### å‚æ•°

| å­—æ®µå         | æ•°æ®ç±»å‹   | è¯´æ˜   |
| ------------ | ------ | ------ |
| `id` | string | åˆå¹¶è½¬å‘ ID |

### å“åº”æ•°æ®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `message` | message | æ¶ˆæ¯å†…å®¹ï¼Œä½¿ç”¨ [æ¶ˆæ¯çš„æ•°ç»„æ ¼å¼](../message/array.md) è¡¨ç¤ºï¼Œæ•°ç»„ä¸­çš„æ¶ˆæ¯æ®µå…¨éƒ¨ä¸º [`node` æ¶ˆæ¯æ®µ](../message/segment.md#åˆå¹¶è½¬å‘è‡ªå®šä¹‰èŠ‚ç‚¹) |

## `send_like` å‘é€å¥½å‹èµ

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `user_id` | number | - | å¯¹æ–¹ QQ å· |
| `times` | number | 1 | èµçš„æ¬¡æ•°ï¼Œæ¯ä¸ªå¥½å‹æ¯å¤©æœ€å¤š 10 æ¬¡ |

### å“åº”æ•°æ®

æ— 

## `set_group_kick` ç¾¤ç»„è¸¢äºº

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `user_id` | number | - | è¦è¸¢çš„ QQ å·  |
| `reject_add_request` | boolean | `false` | æ‹’ç»æ­¤äººçš„åŠ ç¾¤è¯·æ±‚ |

### å“åº”æ•°æ®

æ— 

## `set_group_ban` ç¾¤ç»„å•äººç¦è¨€

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `user_id` | number | - | è¦ç¦è¨€çš„ QQ å· |
| `duration` | number | `30 * 60` | ç¦è¨€æ—¶é•¿ï¼Œå•ä½ç§’ï¼Œ0 è¡¨ç¤ºå–æ¶ˆç¦è¨€ |

### å“åº”æ•°æ®

æ— 

## `set_group_anonymous_ban` ç¾¤ç»„åŒ¿åç”¨æˆ·ç¦è¨€

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `anonymous` | object | - | å¯é€‰ï¼Œè¦ç¦è¨€çš„åŒ¿åç”¨æˆ·å¯¹è±¡ï¼ˆç¾¤æ¶ˆæ¯ä¸ŠæŠ¥çš„ `anonymous` å­—æ®µï¼‰ |
| `anonymous_flag` æˆ– `flag` | string | - | å¯é€‰ï¼Œè¦ç¦è¨€çš„åŒ¿åç”¨æˆ·çš„ flagï¼ˆéœ€ä»ç¾¤æ¶ˆæ¯ä¸ŠæŠ¥çš„æ•°æ®ä¸­è·å¾—ï¼‰ |
| `duration` | number | `30 * 60` | ç¦è¨€æ—¶é•¿ï¼Œå•ä½ç§’ï¼Œæ— æ³•å–æ¶ˆåŒ¿åç”¨æˆ·ç¦è¨€ |

ä¸Šé¢çš„ `anonymous` å’Œ `anonymous_flag` ä¸¤è€…ä»»é€‰å…¶ä¸€ä¼ å…¥å³å¯ï¼Œè‹¥éƒ½ä¼ å…¥ï¼Œåˆ™ä½¿ç”¨ `anonymous`ã€‚

### å“åº”æ•°æ®

æ— 

## `set_group_whole_ban` ç¾¤ç»„å…¨å‘˜ç¦è¨€

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `enable` | boolean | `true` | æ˜¯å¦ç¦è¨€ |

### å“åº”æ•°æ®

æ— 

## `set_group_admin` ç¾¤ç»„è®¾ç½®ç®¡ç†å‘˜

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `user_id` | number | - | è¦è®¾ç½®ç®¡ç†å‘˜çš„ QQ å· |
| `enable` | boolean | `true` | true ä¸ºè®¾ç½®ï¼Œfalse ä¸ºå–æ¶ˆ |

### å“åº”æ•°æ®

æ— 

## `set_group_anonymous` ç¾¤ç»„åŒ¿å

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `enable` | boolean | `true` | æ˜¯å¦å…è®¸åŒ¿åèŠå¤© |

### å“åº”æ•°æ®

æ— 

## `set_group_card` è®¾ç½®ç¾¤åç‰‡ï¼ˆç¾¤å¤‡æ³¨ï¼‰

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `user_id` | number | - | è¦è®¾ç½®çš„ QQ å· |
| `card` | string | ç©º | ç¾¤åç‰‡å†…å®¹ï¼Œä¸å¡«æˆ–ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºåˆ é™¤ç¾¤åç‰‡ |

### å“åº”æ•°æ®

æ— 

## `set_group_name` è®¾ç½®ç¾¤å

### å‚æ•°

| å­—æ®µå   | æ•°æ®ç±»å‹ | è¯´æ˜ |
| -------- | ------ | ---- |
| `group_id` | number (int64) | ç¾¤å· |
| `group_name` | string | æ–°ç¾¤å |

### å“åº”æ•°æ®

æ— 

## `set_group_leave` é€€å‡ºç¾¤ç»„

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `is_dismiss` | boolean | `false` | æ˜¯å¦è§£æ•£ï¼Œå¦‚æœç™»å½•å·æ˜¯ç¾¤ä¸»ï¼Œåˆ™ä»…åœ¨æ­¤é¡¹ä¸º true æ—¶èƒ½å¤Ÿè§£æ•£ |

### å“åº”æ•°æ®

æ— 

## `set_group_special_title` è®¾ç½®ç¾¤ç»„ä¸“å±å¤´è¡”

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `user_id` | number | - | è¦è®¾ç½®çš„ QQ å· |
| `special_title` | string | ç©º | ä¸“å±å¤´è¡”ï¼Œä¸å¡«æˆ–ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºåˆ é™¤ä¸“å±å¤´è¡” |
| `duration` | number | `-1` | ä¸“å±å¤´è¡”æœ‰æ•ˆæœŸï¼Œå•ä½ç§’ï¼Œ-1 è¡¨ç¤ºæ°¸ä¹…ï¼Œä¸è¿‡æ­¤é¡¹ä¼¼ä¹æ²¡æœ‰æ•ˆæœï¼Œå¯èƒ½æ˜¯åªæœ‰æŸäº›ç‰¹æ®Šçš„æ—¶é—´é•¿åº¦æœ‰æ•ˆï¼Œæœ‰å¾…æµ‹è¯• |

### å“åº”æ•°æ®

æ— 

## `set_friend_add_request` å¤„ç†åŠ å¥½å‹è¯·æ±‚

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `flag` | string | - | åŠ å¥½å‹è¯·æ±‚çš„ flagï¼ˆéœ€ä»ä¸ŠæŠ¥çš„æ•°æ®ä¸­è·å¾—ï¼‰ |
| `approve` | boolean | `true` | æ˜¯å¦åŒæ„è¯·æ±‚ |
| `remark` | string | ç©º | æ·»åŠ åçš„å¥½å‹å¤‡æ³¨ï¼ˆä»…åœ¨åŒæ„æ—¶æœ‰æ•ˆï¼‰ |

### å“åº”æ•°æ®

æ— 

## `set_group_add_request` å¤„ç†åŠ ç¾¤è¯·æ±‚ï¼é‚€è¯·

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `flag` | string | - | åŠ ç¾¤è¯·æ±‚çš„ flagï¼ˆéœ€ä»ä¸ŠæŠ¥çš„æ•°æ®ä¸­è·å¾—ï¼‰ |
| `sub_type` æˆ– `type` | string | - | `add` æˆ– `invite`ï¼Œè¯·æ±‚ç±»å‹ï¼ˆéœ€è¦å’Œä¸ŠæŠ¥æ¶ˆæ¯ä¸­çš„ `sub_type` å­—æ®µç›¸ç¬¦ï¼‰ |
| `approve` | boolean | `true` | æ˜¯å¦åŒæ„è¯·æ±‚ï¼é‚€è¯· |
| `reason` | string | ç©º | æ‹’ç»ç†ç”±ï¼ˆä»…åœ¨æ‹’ç»æ—¶æœ‰æ•ˆï¼‰ |

### å“åº”æ•°æ®

æ— 

## `get_login_info` è·å–ç™»å½•å·ä¿¡æ¯

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `user_id` | number (int64) | QQ å· |
| `nickname` | string | QQ æ˜µç§° |

## `get_stranger_info` è·å–é™Œç”Ÿäººä¿¡æ¯

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `user_id` | number | - | QQ å· |
| `no_cache` | boolean | `false` | æ˜¯å¦ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä½¿ç”¨ç¼“å­˜å¯èƒ½æ›´æ–°ä¸åŠæ—¶ï¼Œä½†å“åº”æ›´å¿«ï¼‰ |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `user_id` | number (int64) | QQ å· |
| `nickname` | string | æ˜µç§° |
| `sex` | string | æ€§åˆ«ï¼Œ`male` æˆ– `female` æˆ– `unknown` |
| `age` | number (int32) | å¹´é¾„ |

## `get_friend_list` è·å–å¥½å‹åˆ—è¡¨

### å‚æ•°

æ— 

### å“åº”æ•°æ®

å“åº”å†…å®¹ä¸º JSON æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å¦‚ä¸‹ï¼š

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `user_id` | number (int64) | QQ å· |
| `nickname` | string | æ˜µç§° |
| `remark` | string | å¤‡æ³¨å |

## `get_group_info` è·å–ç¾¤ä¿¡æ¯

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `no_cache` | boolean | `false` | æ˜¯å¦ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä½¿ç”¨ç¼“å­˜å¯èƒ½æ›´æ–°ä¸åŠæ—¶ï¼Œä½†å“åº”æ›´å¿«ï¼‰ |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `group_id` | number (int64) | ç¾¤å· |
| `group_name` | string | ç¾¤åç§° |
| `member_count` | number (int32) | æˆå‘˜æ•° |
| `max_member_count` | number (int32) | æœ€å¤§æˆå‘˜æ•°ï¼ˆç¾¤å®¹é‡ï¼‰ |

## `get_group_list` è·å–ç¾¤åˆ—è¡¨

### å‚æ•°

æ— 

### å“åº”æ•°æ®

å“åº”å†…å®¹ä¸º JSON æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å’Œä¸Šé¢çš„ `get_group_info` æ¥å£ç›¸åŒã€‚

## `get_group_member_info` è·å–ç¾¤æˆå‘˜ä¿¡æ¯

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number | - | ç¾¤å· |
| `user_id`  | number | - | QQ å· |
| `no_cache` | boolean | `false` | æ˜¯å¦ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä½¿ç”¨ç¼“å­˜å¯èƒ½æ›´æ–°ä¸åŠæ—¶ï¼Œä½†å“åº”æ›´å¿«ï¼‰ |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `group_id` | number (int64) | ç¾¤å· |
| `user_id` | number (int64) | QQ å· |
| `nickname` | string | æ˜µç§° |
| `card` | string | ç¾¤åç‰‡ï¼å¤‡æ³¨ |
| `sex` | string | æ€§åˆ«ï¼Œ`male` æˆ– `female` æˆ– `unknown` |
| `age` | number (int32) | å¹´é¾„ |
| `area` | string | åœ°åŒº |
| `join_time` | number (int32) | åŠ ç¾¤æ—¶é—´æˆ³ |
| `last_sent_time` | number (int32) | æœ€åå‘è¨€æ—¶é—´æˆ³ |
| `level` | string | æˆå‘˜ç­‰çº§ |
| `role` | string | è§’è‰²ï¼Œ`owner` æˆ– `admin` æˆ– `member` |
| `unfriendly` | boolean | æ˜¯å¦ä¸è‰¯è®°å½•æˆå‘˜ |
| `title` | string | ä¸“å±å¤´è¡” |
| `title_expire_time` | number (int32) | ä¸“å±å¤´è¡”è¿‡æœŸæ—¶é—´æˆ³ |
| `card_changeable` | boolean | æ˜¯å¦å…è®¸ä¿®æ”¹ç¾¤åç‰‡ |

## `get_group_member_list` è·å–ç¾¤æˆå‘˜åˆ—è¡¨

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number (int64) | - | ç¾¤å· |

### å“åº”æ•°æ®

å“åº”å†…å®¹ä¸º JSON æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ çš„å†…å®¹å’Œä¸Šé¢çš„ `get_group_member_info` æ¥å£ç›¸åŒï¼Œä½†å¯¹äºåŒä¸€ä¸ªç¾¤ç»„çš„åŒä¸€ä¸ªæˆå‘˜ï¼Œè·å–åˆ—è¡¨æ—¶å’Œè·å–å•ç‹¬çš„æˆå‘˜ä¿¡æ¯æ—¶ï¼ŒæŸäº›å­—æ®µå¯èƒ½æœ‰æ‰€ä¸åŒï¼Œä¾‹å¦‚ `area`ã€`title` ç­‰å­—æ®µåœ¨è·å–åˆ—è¡¨æ—¶æ— æ³•è·å¾—ï¼Œå…·ä½“åº”ä»¥å•ç‹¬çš„æˆå‘˜ä¿¡æ¯ä¸ºå‡†ã€‚

## `get_group_honor_info` è·å–ç¾¤è£èª‰ä¿¡æ¯

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `group_id` | number (int64) | - | ç¾¤å· |
| `type` | string | - | è¦è·å–çš„ç¾¤è£èª‰ç±»å‹ï¼Œå¯ä¼ å…¥ `talkative` `performer` `legend` `strong_newbie` `emotion` ä»¥åˆ†åˆ«è·å–å•ä¸ªç±»å‹çš„ç¾¤è£èª‰æ•°æ®ï¼Œæˆ–ä¼ å…¥ `all` è·å–æ‰€æœ‰æ•°æ® |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `group_id` | number (int64) | ç¾¤å· |
| `current_talkative` | object | å½“å‰é¾™ç‹ï¼Œä»… `type` ä¸º `talkative` æˆ– `all` æ—¶æœ‰æ•°æ® |
| `talkative_list` | array | å†å²é¾™ç‹ï¼Œä»… `type` ä¸º `talkative` æˆ– `all` æ—¶æœ‰æ•°æ® |
| `performer_list` | array | ç¾¤èŠä¹‹ç«ï¼Œä»… `type` ä¸º `performer` æˆ– `all` æ—¶æœ‰æ•°æ® |
| `legend_list` | array | ç¾¤èŠç‚½ç„°ï¼Œä»… `type` ä¸º `legend` æˆ– `all` æ—¶æœ‰æ•°æ® |
| `strong_newbie_list` | array | å†’å°–å°æ˜¥ç¬‹ï¼Œä»… `type` ä¸º `strong_newbie` æˆ– `all` æ—¶æœ‰æ•°æ® |
| `emotion_list` | array | å¿«ä¹ä¹‹æºï¼Œä»… `type` ä¸º `emotion` æˆ– `all` æ—¶æœ‰æ•°æ® |

å…¶ä¸­ `current_talkative` å­—æ®µçš„å†…å®¹å¦‚ä¸‹ï¼š

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `user_id` | number (int64) | QQ å· |
| `nickname` | string | æ˜µç§° |
| `avatar` | string | å¤´åƒ URL |
| `day_count` | number (int32) | æŒç»­å¤©æ•° |

å…¶å®ƒå„ `*_list` çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `user_id` | number (int64) | QQ å· |
| `nickname` | string | æ˜µç§° |
| `avatar` | string | å¤´åƒ URL |
| `description` | string | è£èª‰æè¿° |

## `get_cookies` è·å– Cookies

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `domain` | string | ç©º | éœ€è¦è·å– cookies çš„åŸŸå |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `cookies` | string | Cookies |

## `get_csrf_token` è·å– CSRF Token

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `token` | number (int32) | CSRF Token |

## `get_credentials` è·å– QQ ç›¸å…³æ¥å£å‡­è¯

å³ä¸Šé¢ä¸¤ä¸ªæ¥å£çš„åˆå¹¶ã€‚

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `domain` | string | ç©º | éœ€è¦è·å– cookies çš„åŸŸå |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `cookies` | string | Cookies |
| `csrf_token` | number (int32) | CSRF Token |

## `get_record` è·å–è¯­éŸ³

> **æç¤º**ï¼šè¦ä½¿ç”¨æ­¤æ¥å£ï¼Œé€šå¸¸éœ€è¦å®‰è£… ffmpegï¼Œè¯·å‚è€ƒ OneBot å®ç°çš„ç›¸å…³è¯´æ˜ã€‚

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `file` | string | - | æ”¶åˆ°çš„è¯­éŸ³æ–‡ä»¶åï¼ˆæ¶ˆæ¯æ®µçš„ `file` å‚æ•°ï¼‰ï¼Œå¦‚ `0B38145AA44505000B38145AA4450500.silk` |
| `out_format`  | string | - | è¦è½¬æ¢åˆ°çš„æ ¼å¼ï¼Œç›®å‰æ”¯æŒ `mp3`ã€`amr`ã€`wma`ã€`m4a`ã€`spx`ã€`ogg`ã€`wav`ã€`flac` |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `file` | string | è½¬æ¢åçš„è¯­éŸ³æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ `/home/somebody/cqhttp/data/record/0B38145AA44505000B38145AA4450500.mp3` |

## `get_image` è·å–å›¾ç‰‡

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `file` | string | - | æ”¶åˆ°çš„å›¾ç‰‡æ–‡ä»¶åï¼ˆæ¶ˆæ¯æ®µçš„ `file` å‚æ•°ï¼‰ï¼Œå¦‚ `6B4DE3DFD1BD271E3297859D41C530F5.jpg` |

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `file` | string | ä¸‹è½½åçš„å›¾ç‰‡æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ `/home/somebody/cqhttp/data/image/6B4DE3DFD1BD271E3297859D41C530F5.jpg` |

## `can_send_image` æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘é€å›¾ç‰‡

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `yes` | boolean | æ˜¯æˆ–å¦ |

## `can_send_record` æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘é€è¯­éŸ³

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `yes` | boolean | æ˜¯æˆ–å¦ |

## `get_status` è·å–è¿è¡ŒçŠ¶æ€

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `online` | boolean | å½“å‰ QQ åœ¨çº¿ï¼Œ`null` è¡¨ç¤ºæ— æ³•æŸ¥è¯¢åˆ°åœ¨çº¿çŠ¶æ€ |
| `good` | boolean | çŠ¶æ€ç¬¦åˆé¢„æœŸï¼Œæ„å‘³ç€å„æ¨¡å—æ­£å¸¸è¿è¡Œã€åŠŸèƒ½æ­£å¸¸ï¼Œä¸” QQ åœ¨çº¿ |
| â€¦â€¦ | - | OneBot å®ç°è‡ªè¡Œæ·»åŠ çš„å…¶å®ƒå†…å®¹ |

é€šå¸¸æƒ…å†µä¸‹å»ºè®®åªä½¿ç”¨ `online` å’Œ `good` è¿™ä¸¤ä¸ªå­—æ®µæ¥åˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Œå› ä¸ºæ ¹æ® OneBot å®ç°çš„ä¸åŒï¼Œå…¶å®ƒå­—æ®µå¯èƒ½å®Œå…¨ä¸åŒã€‚

## `get_version_info` è·å–ç‰ˆæœ¬ä¿¡æ¯

### å‚æ•°

æ— 

### å“åº”æ•°æ®

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ |
| ----- | ------- | --- |
| `app_name` | string | åº”ç”¨æ ‡è¯†ï¼Œå¦‚ `mirai-native` |
| `app_version` | string | åº”ç”¨ç‰ˆæœ¬ï¼Œå¦‚ `1.2.3` |
| `protocol_version` | string | OneBot æ ‡å‡†ç‰ˆæœ¬ï¼Œå¦‚ `v11` |
| â€¦â€¦ | - | OneBot å®ç°è‡ªè¡Œæ·»åŠ çš„å…¶å®ƒå†…å®¹ |

## `set_restart` é‡å¯ OneBot å®ç°

ç”±äºé‡å¯ OneBot å®ç°åŒæ—¶éœ€è¦é‡å¯ API æœåŠ¡ï¼Œè¿™æ„å‘³ç€å½“å‰çš„ API è¯·æ±‚ä¼šè¢«ä¸­æ–­ï¼Œå› æ­¤éœ€è¦å¼‚æ­¥åœ°é‡å¯ï¼Œæ¥å£è¿”å›çš„ `status` æ˜¯ `async`ã€‚

### å‚æ•°

| å­—æ®µå | æ•°æ®ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| ----- | ------- | ----- | --- |
| `delay` | number | `0` | è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ï¼Œå¦‚æœé»˜è®¤æƒ…å†µä¸‹æ— æ³•é‡å¯ï¼Œå¯ä»¥å°è¯•è®¾ç½®å»¶è¿Ÿä¸º 2000 å·¦å³ |

### å“åº”æ•°æ®

æ— 

## `clean_cache` æ¸…ç†ç¼“å­˜

ç”¨äºæ¸…ç†ç§¯æ”’äº†å¤ªå¤šçš„ç¼“å­˜æ–‡ä»¶ã€‚

### å‚æ•°

æ— 

### å“åº”æ•°æ®

æ— 

<hr>

| ä¸Šä¸€èŠ‚ | ä¸‹ä¸€èŠ‚ |
| --- | --- |
| [API æ¦‚è¿°](README.md) | [éšè— API](hidden.md) |
```

--------------------------------------------------------------------------------
æ–‡ä»¶è·¯å¾„: I:\github\FengM\Napcat_api_doc\receive\basic_event.md
--------------------------------------------------------------------------------

```md
# OneBot 11 äº‹ä»¶åŸºç¡€ç»“æ„ä¸æ¶ˆæ¯ç»“æ„

---

## 1. äº‹ä»¶åŸºç¡€å­—æ®µ

æ‰€æœ‰äº‹ä»¶éƒ½åŒ…å«ä»¥ä¸‹åŸºç¡€å­—æ®µï¼š

| å­—æ®µå    | ç±»å‹    | è¯´æ˜                     |
| --------- | ------- | ------------------------ |
| time      | number  | äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´æˆ³ï¼ˆç§’ï¼‰   |
| post_type | string  | äº‹ä»¶ç±»å‹                 |
| self_id   | number  | æ”¶åˆ°äº‹ä»¶çš„æœºå™¨äºº QQ å·   |

**ç¤ºä¾‹ï¼š**
```json
{
  "time": 1718000000,
  "post_type": "message",
  "self_id": 123456789
}
```

---

## 2. æ¶ˆæ¯äº‹ä»¶ç»“æ„

æ¶ˆæ¯äº‹ä»¶æ˜¯æœ€å¸¸è§çš„äº‹ä»¶ç±»å‹ï¼Œåˆ†ä¸ºç§èŠæ¶ˆæ¯å’Œç¾¤æ¶ˆæ¯ã€‚

### 2.1 ç§èŠæ¶ˆæ¯ï¼ˆOB11PrivateMessageï¼‰

| å­—æ®µå      | ç±»å‹                | è¯´æ˜                       |
| ----------- | -------------------| -------------------------- |
| time        | number             | äº‹ä»¶å‘ç”Ÿæ—¶é—´æˆ³             |
| post_type   | 'message' \| 'message_sent' | äº‹ä»¶ç±»å‹         |
| message_type| 'private'          | æ¶ˆæ¯ç±»å‹ï¼šç§èŠ             |
| sub_type    | 'friend'           | å­ç±»å‹ï¼šå¥½å‹               |
| message_id  | number             | æ¶ˆæ¯ ID                    |
| user_id     | number             | å‘é€è€… QQ å·               |
| message     | OB11Segment[]      | æ¶ˆæ¯æ®µæ•°ç»„                 |
| raw_message | string             | åŸå§‹æ¶ˆæ¯å†…å®¹               |
| font        | number             | å­—ä½“                       |
| target_id?  | number             | ä¸´æ—¶ä¼šè¯ç›®æ ‡ QQ å·ï¼ˆå¯é€‰ï¼‰ |
| temp_source?| number             | ä¸´æ—¶ä¼šè¯æ¥æºï¼ˆå¯é€‰ï¼‰       |
| sender      | FriendSender       | å‘é€è€…ä¿¡æ¯                 |
| self_id     | number             | æœºå™¨äºº QQ å·               |

**ç§èŠæ¶ˆæ¯ç¤ºä¾‹ï¼š**
```json
{
  "time": 1718000000,
  "post_type": "message",
  "message_type": "private",
  "sub_type": "friend",
  "message_id": 1001,
  "user_id": 234567890,
  "message": [
    { "type": "text", "data": { "text": "ä½ å¥½" } }
  ],
  "raw_message": "ä½ å¥½",
  "font": 0,
  "sender": {
    "user_id": 234567890,
    "nickname": "å°æ˜",
    "sex": "male",
    "age": 18
  },
  "self_id": 123456789
}
```

**ä¸´æ—¶ä¼šè¯ç§èŠæ¶ˆæ¯ç¤ºä¾‹ï¼š**
```json
{
  "time": 1718000002,
  "post_type": "message",
  "message_type": "private",
  "sub_type": "group",
  "message_id": 1002,
  "user_id": 234567891,
  "target_id": 987654321,
  "temp_source": 0,
  "message": [
    { "type": "text", "data": { "text": "ä¸´æ—¶ä¼šè¯æ¶ˆæ¯" } }
  ],
  "raw_message": "ä¸´æ—¶ä¼šè¯æ¶ˆæ¯",
  "font": 0,
  "sender": {
    "user_id": 234567891,
    "nickname": "å°çº¢",
    "sex": "female"
  },
  "self_id": 123456789
}
```

---

### 2.2 ç¾¤æ¶ˆæ¯ï¼ˆOB11GroupMessageï¼‰

| å­—æ®µå      | ç±»å‹                | è¯´æ˜                       |
| ----------- | -------------------| -------------------------- |
| time        | number             | äº‹ä»¶å‘ç”Ÿæ—¶é—´æˆ³             |
| post_type   | 'message' \| 'message_sent' | äº‹ä»¶ç±»å‹         |
| message_type| 'group'            | æ¶ˆæ¯ç±»å‹ï¼šç¾¤èŠ             |
| sub_type    | 'normal' \| 'anonymous' \| 'notice' | å­ç±»å‹ |
| message_id  | number             | æ¶ˆæ¯ ID                    |
| user_id     | number             | å‘é€è€… QQ å·               |
| group_id    | number             | ç¾¤å·                       |
| message     | OB11Segment[]      | æ¶ˆæ¯æ®µæ•°ç»„                 |
| raw_message | string             | åŸå§‹æ¶ˆæ¯å†…å®¹               |
| font        | number             | å­—ä½“                       |
| sender      | GroupSender        | å‘é€è€…ä¿¡æ¯                 |
| self_id     | number             | æœºå™¨äºº QQ å·               |

**æ™®é€šç¾¤æ¶ˆæ¯ç¤ºä¾‹ï¼š**
```json
{
  "time": 1718000001,
  "post_type": "message",
  "message_type": "group",
  "sub_type": "normal",
  "message_id": 2002,
  "user_id": 345678901,
  "group_id": 987654321,
  "message": [
    { "type": "at", "data": { "qq": 123456789 } },
    { "type": "text", "data": { "text": "å¤§å®¶å¥½ï¼" } }
  ],
  "raw_message": "[CQ:at,qq=123456789]å¤§å®¶å¥½ï¼",
  "font": 0,
  "sender": {
    "user_id": 345678901,
    "nickname": "ç¾¤å‹A",
    "sex": "female",
    "card": "ç®¡ç†å‘˜",
    "role": "admin"
  },
  "self_id": 123456789
}
```
---

## 3. é€šçŸ¥äº‹ä»¶ç»“æ„ï¼ˆNotice Eventï¼‰

é€šçŸ¥äº‹ä»¶ç”¨äºæè¿°å¹³å°è‡ªåŠ¨æ¨é€çš„å„ç§çŠ¶æ€å˜æ›´ã€æ“ä½œé€šçŸ¥ï¼Œå¦‚ç¾¤æˆå‘˜å˜åŠ¨ã€æ¶ˆæ¯æ’¤å›ã€ç¦è¨€ç­‰ã€‚

| å­—æ®µå      | ç±»å‹      | è¯´æ˜                       |
| ----------- | --------- | -------------------------- |
| time        | number    | äº‹ä»¶å‘ç”Ÿæ—¶é—´æˆ³             |
| post_type   | 'notice'  | äº‹ä»¶ç±»å‹                   |
| self_id     | number    | æ”¶åˆ°äº‹ä»¶çš„æœºå™¨äºº QQ å·     |
| notice_type | string    | é€šçŸ¥ç±»å‹ï¼ˆè§ä¸‹è¡¨ï¼‰         |

å¸¸è§é€šçŸ¥ç±»å‹åŠä¸»è¦å­—æ®µï¼š

| notice_type           | è¯´æ˜           | ä¸»è¦å­—æ®µè¡¥å……è¯´æ˜ |
|-----------------------|----------------|-----------------|
| group_upload          | ç¾¤æ–‡ä»¶ä¸Šä¼      | group_id, user_id, fileï¼ˆid, name, size, busidï¼‰ |
| group_admin           | ç¾¤ç®¡ç†å‘˜å˜åŠ¨   | sub_type: 'set'/'unset', group_id, user_id |
| group_decrease        | ç¾¤æˆå‘˜å‡å°‘     | sub_type: 'leave'/'kick'/'kick_me', group_id, operator_id, user_id |
| group_increase        | ç¾¤æˆå‘˜å¢åŠ      | sub_type: 'approve'/'invite', group_id, operator_id, user_id |
| group_ban             | ç¾¤ç¦è¨€         | sub_type: 'ban'/'lift_ban', group_id, operator_id, user_id, duration |
| friend_add            | æ–°æ·»åŠ å¥½å‹     | user_id |
| group_recall          | ç¾¤æ¶ˆæ¯æ’¤å›     | group_id, user_id, operator_id, message_id |
| friend_recall         | å¥½å‹æ¶ˆæ¯æ’¤å›   | user_id, message_id |
| poke                  | æˆ³ä¸€æˆ³         | sub_type: 'poke', group_id?, user_id, target_id |
| lucky_king            | è¿æ°”ç‹         | sub_type: 'lucky_king', group_id, user_id, target_id |
| honor                 | è£èª‰å˜æ›´       | sub_type: 'honor', group_id, honor_type, user_id |
| group_msg_emoji_like  | ç¾¤è¡¨æƒ…å›åº”     | group_id, user_id/operator_id, message_id, likes/code, count |
| essence               | ç¾¤ç²¾å         | sub_type: 'add'/'delete', group_id, message_id, sender_id, operator_id |
| group_card            | ç¾¤åç‰‡å˜æ›´     | group_id, user_id, card_new, card_old |

**ç¾¤æˆå‘˜å¢åŠ é€šçŸ¥ç¤ºä¾‹ï¼š**
```json
{
  "time": 1718000010,
  "post_type": "notice",
  "notice_type": "group_increase",
  "group_id": 987654321,
  "operator_id": 123456789,
  "user_id": 345678902,
  "sub_type": "invite",
  "self_id": 123456789
}
```

**ç¾¤ç¦è¨€é€šçŸ¥ç¤ºä¾‹ï¼š**
```json
{
  "time": 1718000011,
  "post_type": "notice",
  "notice_type": "group_ban",
  "group_id": 987654321,
  "operator_id": 123456789,
  "user_id": 345678903,
  "duration": 600,
  "sub_type": "ban",
  "self_id": 123456789
}
```

---

## 4. è¯·æ±‚äº‹ä»¶ç»“æ„ï¼ˆRequest Eventï¼‰

è¯·æ±‚äº‹ä»¶ç”¨äºæè¿°éœ€è¦æœºå™¨äººå¤„ç†çš„è¯·æ±‚ï¼Œå¦‚åŠ å¥½å‹ã€åŠ ç¾¤ç­‰ã€‚

| å­—æ®µå      | ç±»å‹                | è¯´æ˜                   |
| ----------- | ------------------- | ---------------------- |
| time        | number              | äº‹ä»¶å‘ç”Ÿæ—¶é—´æˆ³         |
| post_type   | 'request'           | äº‹ä»¶ç±»å‹               |
| self_id     | number              | æ”¶åˆ°äº‹ä»¶çš„æœºå™¨äºº QQ å· |
| request_type| 'friend'/'group'    | è¯·æ±‚ç±»å‹               |
| flag        | string              | è¯·æ±‚ flag              |
| user_id     | number              | å‘é€è¯·æ±‚çš„ QQ å·       |
| comment     | string              | éªŒè¯ä¿¡æ¯               |

ä¸åŒè¯·æ±‚ç±»å‹çš„è¡¥å……å­—æ®µï¼š

| request_type | è¯´æ˜         | ä¸»è¦å­—æ®µè¡¥å……è¯´æ˜ |
|--------------|--------------|-----------------|
| friend       | å¥½å‹è¯·æ±‚     | æ—               |
| group        | ç¾¤è¯·æ±‚       | sub_type: 'add'ï¼ˆåŠ ç¾¤ç”³è¯·ï¼‰/'invite'ï¼ˆè¢«é‚€è¯·å…¥ç¾¤ï¼‰ï¼Œgroup_id |

**åŠ å¥½å‹è¯·æ±‚ç¤ºä¾‹ï¼š**
```json
{
  "time": 1718000020,
  "post_type": "request",
  "request_type": "friend",
  "flag": "request_flag_1",
  "user_id": 456789012,
  "comment": "æˆ‘æ˜¯æœºå™¨äººç²‰ä¸",
  "self_id": 123456789
}
```

**åŠ ç¾¤ç”³è¯·è¯·æ±‚ç¤ºä¾‹ï¼š**
```json
{
  "time": 1718000021,
  "post_type": "request",
  "request_type": "group",
  "sub_type": "add",
  "group_id": 987654321,
  "flag": "request_flag_2",
  "user_id": 456789013,
  "comment": "æƒ³åŠ å…¥ç¾¤èŠ",
  "self_id": 123456789
}
```

---

## 5. æ¶ˆæ¯æ®µç»“æ„ï¼ˆOB11Segmentï¼‰

æ¯æ¡æ¶ˆæ¯ç”±è‹¥å¹²æ¶ˆæ¯æ®µï¼ˆSegmentï¼‰ç»„æˆï¼Œæ¯ä¸ªæ¶ˆæ¯æ®µåŒ…å«ç±»å‹å’Œå¯¹åº”æ•°æ®ã€‚

| å­—æ®µå | ç±»å‹   | è¯´æ˜                   |
| ------ | ------ | ---------------------- |
| type   | string | æ®µè½ç±»å‹ï¼ˆå¦‚ 'text'ï¼‰  |
| data   | object | å„ç±»å‹å¯¹åº”çš„æ•°æ®å†…å®¹    |

å¸¸è§ type åŠ data å­—æ®µè¯´æ˜ï¼š

- `text`ï¼š`{ text: string }` â€”â€” çº¯æ–‡æœ¬å†…å®¹
- `image`ï¼š`{ file: string, url?: string, ... }` â€”â€” å›¾ç‰‡
- `at`ï¼š`{ qq: number }` â€”â€” @æŸäºº
- `face`ï¼š`{ id: number }` â€”â€” QQ è¡¨æƒ…
- `reply`ï¼š`{ id: number }` â€”â€” å›å¤æ¶ˆæ¯

**æ¶ˆæ¯æ®µç¤ºä¾‹ï¼š**
```json
[
  { "type": "text", "data": { "text": "ä½ å¥½" } },
  { "type": "image", "data": { "file": "abc.jpg", "url": "http://..." } },
  { "type": "at", "data": { "qq": 123456789 } },
  { "type": "face", "data": { "id": 123 } },
  { "type": "reply", "data": { "id": 1001 } }
]
```

---

## 6. å‘é€è€…ä¿¡æ¯ç»“æ„

### 6.1 FriendSenderï¼ˆç§èŠå‘é€è€…ï¼‰

| å­—æ®µå   | ç±»å‹    | è¯´æ˜               |
| -------- | ------- | ------------------ |
| user_id  | number  | å‘é€è€… QQ å·       |
| nickname | string  | æ˜µç§°               |
| sex      | 'male' / 'female' / 'unknown' | æ€§åˆ« |
| group_id | number? | ç¾¤ä¸´æ—¶ä¼šè¯ç¾¤å·ï¼ˆå¯é€‰ï¼‰ |

**ç§èŠå‘é€è€…ç¤ºä¾‹ï¼š**
```json
{
  "user_id": 234567890,
  "nickname": "å°æ˜",
  "sex": "male"
}
```

### 6.2 GroupSenderï¼ˆç¾¤èŠå‘é€è€…ï¼‰

| å­—æ®µå   | ç±»å‹    | è¯´æ˜               |
| -------- | ------- | ------------------ |
| user_id  | number  | å‘é€è€… QQ å·       |
| nickname | string  | æ˜µç§°               |
| sex      | 'male' / 'female' / 'unknown' | æ€§åˆ« |
| card     | string? | ç¾¤åç‰‡/å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰|
| role     | 'owner' / 'admin' / 'member' | è§’è‰² |

**ç¾¤èŠå‘é€è€…ç¤ºä¾‹ï¼š**
```json
{
  "user_id": 345678901,
  "nickname": "ç¾¤å‹A",
  "sex": "female",
  "card": "ç®¡ç†å‘˜",
  "role": "admin"
}
```

---

> **è¯´æ˜**ï¼š
> - å­—æ®µåå¸¦ `?` è¡¨ç¤ºè¯¥å­—æ®µä¸ºå¯é€‰é¡¹ã€‚
> - æ¶ˆæ¯æ®µï¼ˆOB11Segmentï¼‰å¯åŒ…å«å¤šç§ç±»å‹ï¼Œå…·ä½“å†…å®¹ä»¥å®é™…æ¶ˆæ¯ä¸ºå‡†ã€‚
> - å‘é€è€…ä¿¡æ¯ç»“æ„æ ¹æ®æ¶ˆæ¯ç±»å‹ï¼ˆç§èŠ/ç¾¤èŠï¼‰æœ‰æ‰€ä¸åŒã€‚
```

--------------------------------------------------------------------------------
æ–‡ä»¶è·¯å¾„: I:\github\FengM\Napcat_api_doc\receive\event.md
--------------------------------------------------------------------------------

```md
# OneBot äº‹ä»¶ç³»ç»Ÿç»“æ„è¯¦è§£

> æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ OneBot äº‹ä»¶ç³»ç»Ÿçš„æ¶æ„ã€äº‹ä»¶ç±»å‹åŠå…¶ç»§æ‰¿å…³ç³»

## å¼€ç¯‡è®²è§£
NapCatè¿­ä»£å‘¨æœŸéå¸¸å¿«,å¦‚æœä½ éœ€è¦å‡†ç¡®é è°±çš„å®šä¹‰åº”å½“ [æºä»£ç ](https://github.com/NapNeko/NapCatQQ/tree/main/src/onebot/event) æŸ¥çœ‹.

è¿™éƒ¨åˆ†å¹¶ä¸å¤æ‚,å¦‚æœä½ æœ‰ide å¹¶åˆå§‹åŒ–ä¾èµ–,å¯ä»¥è½»æ¾ç†è§£è¿™éƒ¨åˆ†çš„å­—æ®µå’Œå®šä¹‰.

## ç›®å½•

- [åŸºç¡€äº‹ä»¶ç»“æ„](#åŸºç¡€äº‹ä»¶ç»“æ„)
- [å…ƒäº‹ä»¶ (Meta Event)](#å…ƒäº‹ä»¶-meta-event)
- [é€šçŸ¥äº‹ä»¶ (Notice Event)](#é€šçŸ¥äº‹ä»¶-notice-event)
- [è¯·æ±‚äº‹ä»¶ (Request Event)](#è¯·æ±‚äº‹ä»¶-request-event)
- [æ¶ˆæ¯äº‹ä»¶ (Message Event)](#æ¶ˆæ¯äº‹ä»¶-message-event)
- [äº‹ä»¶ç»§æ‰¿å…³ç³»æ€»ç»“](#äº‹ä»¶ç»§æ‰¿å…³ç³»æ€»ç»“)

OneBot äº‹ä»¶ç³»ç»ŸåŒ…å«å¤šç§ä¸åŒç±»å‹çš„äº‹ä»¶ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½ç»§æ‰¿è‡ª `OneBotEvent` åŸºç±»ã€‚äº‹ä»¶æŒ‰ç…§ç±»å‹åˆ†ä¸ºå››å¤§ç±»ï¼šå…ƒäº‹ä»¶ï¼ˆMetaï¼‰ã€é€šçŸ¥äº‹ä»¶ï¼ˆNoticeï¼‰ã€è¯·æ±‚äº‹ä»¶ï¼ˆRequestï¼‰å’Œæ¶ˆæ¯äº‹ä»¶ï¼ˆMessageï¼‰ã€‚

## åŸºç¡€äº‹ä»¶ç»“æ„

### OneBotEvent (åŸºç±»)

æ‰€æœ‰äº‹ä»¶çš„åŸºç±»ï¼Œå®šä¹‰äº†å…±æœ‰å­—æ®µã€‚

```typescript
abstract class OneBotEvent {
    time: number;         // äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´æˆ³
    self_id: number;      // æœºå™¨äººè‡ªèº«QQå·
    abstract post_type: EventType; // äº‹ä»¶ç±»å‹
}
```

### äº‹ä»¶ç±»å‹æšä¸¾

```typescript
enum EventType {
    META = 'meta_event',      // å…ƒäº‹ä»¶
    REQUEST = 'request',      // è¯·æ±‚äº‹ä»¶
    NOTICE = 'notice',        // é€šçŸ¥äº‹ä»¶
    MESSAGE = 'message',      // æ¶ˆæ¯äº‹ä»¶
    MESSAGE_SENT = 'message_sent', // æ¶ˆæ¯å‘é€äº‹ä»¶
}
```

## å…ƒäº‹ä»¶ (Meta Event)

> å…ƒäº‹ä»¶æ˜¯ä¸åè®®ç›¸å…³çš„äº‹ä»¶ï¼Œå¦‚å¿ƒè·³ã€ç”Ÿå‘½å‘¨æœŸç­‰

### OB11BaseMetaEvent

```typescript
abstract class OB11BaseMetaEvent extends OneBotEvent {
    post_type = EventType.META;
    abstract meta_event_type: string; // å…ƒäº‹ä»¶ç±»å‹
}
```

### OB11HeartbeatEvent

å¿ƒè·³äº‹ä»¶ï¼Œç”¨äºç¡®è®¤è¿æ¥çŠ¶æ€

```typescript
interface HeartbeatStatus {
    online: boolean | undefined,  // æ˜¯å¦åœ¨çº¿
    good: boolean                 // çŠ¶æ€æ˜¯å¦è‰¯å¥½
}

class OB11HeartbeatEvent extends OB11BaseMetaEvent {
    meta_event_type = 'heartbeat'; // å¿ƒè·³äº‹ä»¶
    status: HeartbeatStatus;       // çŠ¶æ€ä¿¡æ¯
    interval: number;              // å¿ƒè·³é—´éš”æ—¶é—´(ms)
}
```

### OB11LifeCycleEvent

ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œç”¨äºé€šçŸ¥æ¡†æ¶ç”Ÿå‘½å‘¨æœŸå˜åŒ–

```typescript
enum LifeCycleSubType {
    ENABLE = 'enable',    // å¯ç”¨
    DISABLE = 'disable',  // ç¦ç”¨
    CONNECT = 'connect'   // è¿æ¥
}

class OB11LifeCycleEvent extends OB11BaseMetaEvent {
    meta_event_type = 'lifecycle'; // ç”Ÿå‘½å‘¨æœŸäº‹ä»¶
    sub_type: LifeCycleSubType;    // å­ç±»å‹
}
```

## é€šçŸ¥äº‹ä»¶ (Notice Event)

> é€šçŸ¥äº‹ä»¶ç”¨äºæ¥æ”¶å„ç±»é€šçŸ¥ï¼Œå¦‚å¥½å‹æ·»åŠ ã€ç¾¤ç»„å˜åŠ¨ç­‰

### OB11BaseNoticeEvent

æ‰€æœ‰é€šçŸ¥äº‹ä»¶çš„åŸºç±»

```typescript
abstract class OB11BaseNoticeEvent extends OneBotEvent {
    post_type = EventType.NOTICE;
    // å…·ä½“é€šçŸ¥ç±»å‹åœ¨å­ç±»ä¸­å®šä¹‰
}
```

### ç¾¤ç»„é€šçŸ¥äº‹ä»¶åŸºç±»

å¤„ç†ç¾¤ç›¸å…³çš„é€šçŸ¥äº‹ä»¶

```typescript
abstract class OB11GroupNoticeEvent extends OB11BaseNoticeEvent {
    group_id: number;  // ç¾¤å·
    user_id: number;   // ç”¨æˆ·QQå·
}
```

### å¥½å‹æ·»åŠ é€šçŸ¥

```typescript
class OB11FriendAddNoticeEvent extends OB11BaseNoticeEvent {
    notice_type = 'friend_add';  // å¥½å‹æ·»åŠ é€šçŸ¥
    user_id: number;             // æ–°å¥½å‹QQå·
}
```

### å¥½å‹æ¶ˆæ¯æ’¤å›é€šçŸ¥

```typescript
class OB11FriendRecallNoticeEvent extends OB11BaseNoticeEvent {
    notice_type = 'friend_recall';  // å¥½å‹æ¶ˆæ¯æ’¤å›
    user_id: number;                // æ¶ˆæ¯å‘é€è€…QQå·
    message_id: number;             // è¢«æ’¤å›çš„æ¶ˆæ¯ID
}
```

### ç¾¤æ¶ˆæ¯æ’¤å›é€šçŸ¥

```typescript
class OB11GroupRecallNoticeEvent extends OB11GroupNoticeEvent {
    notice_type = 'group_recall';  // ç¾¤æ¶ˆæ¯æ’¤å›
    operator_id: number;           // æ“ä½œè€…QQå·
    message_id: number;            // è¢«æ’¤å›çš„æ¶ˆæ¯ID
}
```

### ç¾¤æˆå‘˜å¢åŠ é€šçŸ¥

```typescript
class OB11GroupIncreaseEvent extends OB11GroupNoticeEvent {
    notice_type = 'group_increase';  // ç¾¤æˆå‘˜å¢åŠ 
    operator_id: number;             // æ“ä½œè€…QQå·
    sub_type: 'approve' | 'invite';  // å­ç±»å‹ï¼šåŒæ„åŠ ç¾¤/é‚€è¯·åŠ ç¾¤
}
```

### ç¾¤æˆå‘˜å‡å°‘é€šçŸ¥

```typescript
type GroupDecreaseSubType = 'leave' | 'kick' | 'kick_me' | 'disband';

class OB11GroupDecreaseEvent extends OB11GroupNoticeEvent {
    notice_type = 'group_decrease';  // ç¾¤æˆå‘˜å‡å°‘
    sub_type: GroupDecreaseSubType;  // å­ç±»å‹ï¼šä¸»åŠ¨é€€ç¾¤/è¢«è¸¢/æˆ‘è¢«è¸¢/ç¾¤è§£æ•£
    operator_id: number;             // æ“ä½œè€…QQå·
}
```

### ç¾¤ç®¡ç†å‘˜å˜åŠ¨é€šçŸ¥

```typescript
class OB11GroupAdminNoticeEvent extends OB11GroupNoticeEvent {
    notice_type = 'group_admin';       // ç¾¤ç®¡ç†å‘˜å˜åŠ¨
    sub_type: 'set' | 'unset';         // è®¾ç½®/å–æ¶ˆç®¡ç†å‘˜
}
```

### ç¾¤ç¦è¨€é€šçŸ¥

```typescript
class OB11GroupBanEvent extends OB11GroupNoticeEvent {
    notice_type = 'group_ban';             // ç¾¤ç¦è¨€
    operator_id: number;                   // æ“ä½œè€…QQå·
    duration: number;                      // ç¦è¨€æ—¶é•¿(ç§’)
    sub_type: 'ban' | 'lift_ban';          // ç¦è¨€/è§£é™¤ç¦è¨€
}
```

### ç¾¤æ–‡ä»¶ä¸Šä¼ é€šçŸ¥

```typescript
interface GroupUploadFile {
    id: string,      // æ–‡ä»¶ID
    name: string,    // æ–‡ä»¶å
    size: number,    // æ–‡ä»¶å¤§å°(Byte)
    busid: number,   // æ–‡ä»¶æ€»çº¿ID
}

class OB11GroupUploadNoticeEvent extends OB11GroupNoticeEvent {
    notice_type = 'group_upload';  // ç¾¤æ–‡ä»¶ä¸Šä¼ 
    file: GroupUploadFile;         // æ–‡ä»¶ä¿¡æ¯
}
```

### ç¾¤åç‰‡å˜æ›´é€šçŸ¥

```typescript
class OB11GroupCardEvent extends OB11GroupNoticeEvent {
    notice_type = 'group_card';  // ç¾¤åç‰‡å˜æ›´
    card_new: string;            // æ–°åç‰‡
    card_old: string;            // æ—§åç‰‡
}
```

### ç¾¤åå˜æ›´é€šçŸ¥

```typescript
class OB11GroupNameEvent extends OB11GroupNoticeEvent {
    notice_type = 'notify';      // é€šçŸ¥
    sub_type = 'group_name';     // ç¾¤åå˜æ›´
    name_new: string;            // æ–°ç¾¤å
}
```

### ç¾¤å¤´è¡”å˜æ›´é€šçŸ¥

```typescript
class OB11GroupTitleEvent extends OB11GroupNoticeEvent {
    notice_type = 'notify';      // é€šçŸ¥
    sub_type = 'title';          // å¤´è¡”å˜æ›´
    title: string;               // æ–°å¤´è¡”
}
```

### ç¾¤ç²¾åæ¶ˆæ¯é€šçŸ¥

```typescript
class OB11GroupEssenceEvent extends OB11GroupNoticeEvent {
    notice_type = 'essence';             // ç²¾åæ¶ˆæ¯
    message_id: number;                  // æ¶ˆæ¯ID
    sender_id: number;                   // æ¶ˆæ¯å‘é€è€…QQå·
    operator_id: number;                 // æ“ä½œè€…QQå·
    sub_type: 'add' | 'delete';          // æ·»åŠ /åˆ é™¤ç²¾å
}
```

### è¡¨æƒ…å›åº”é€šçŸ¥

```typescript
interface MsgEmojiLike {
    emoji_id: string,   // è¡¨æƒ…ID
    count: number       // å›åº”æ•°é‡
}

class OB11GroupMsgEmojiLikeEvent extends OB11GroupNoticeEvent {
    notice_type = 'group_msg_emoji_like';  // è¡¨æƒ…å›åº”
    message_id: number;                    // æ¶ˆæ¯ID
    likes: MsgEmojiLike[];                 // è¡¨æƒ…ä¿¡æ¯åˆ—è¡¨
}
```

### æˆ³ä¸€æˆ³é€šçŸ¥

```typescript
class OB11PokeEvent extends OB11BaseNoticeEvent {
    notice_type = 'notify';    // é€šçŸ¥
    sub_type = 'poke';         // æˆ³ä¸€æˆ³
    target_id: number;         // è¢«æˆ³è€…QQå·
    user_id: number;           // æˆ³è€…QQå·
}

class OB11FriendPokeEvent extends OB11PokeEvent {
    raw_info: unknown;         // åŸå§‹ä¿¡æ¯
    sender_id: number;         // å‘é€è€…QQå·
}

class OB11GroupPokeEvent extends OB11PokeEvent {
    group_id: number;          // ç¾¤å·
    raw_info: unknown;         // åŸå§‹ä¿¡æ¯
}
```

### ä¸ªäººèµ„æ–™ç‚¹èµé€šçŸ¥

```typescript
class OB11ProfileLikeEvent extends OB11BaseNoticeEvent {
    notice_type = 'notify';        // é€šçŸ¥
    sub_type = 'profile_like';     // èµ„æ–™ç‚¹èµ
    operator_id: number;           // æ“ä½œè€…QQå·
    operator_nick: string;         // æ“ä½œè€…æ˜µç§°
    times: number;                 // ç‚¹èµæ¬¡æ•°
    time: number;                  // æ—¶é—´æˆ³
}
```

### è¾“å…¥çŠ¶æ€é€šçŸ¥

```typescript
class OB11InputStatusEvent extends OB11BaseNoticeEvent {
    notice_type = 'notify';        // é€šçŸ¥
    sub_type = 'input_status';     // è¾“å…¥çŠ¶æ€
    status_text: string;           // çŠ¶æ€æ–‡æœ¬
    event_type: number;            // äº‹ä»¶ç±»å‹
    user_id: number;               // ç”¨æˆ·QQå·
    group_id: number;              // ç¾¤å·(å¦‚é€‚ç”¨)
}
```

### æœºå™¨äººç¦»çº¿é€šçŸ¥

```typescript
class BotOfflineEvent extends OB11BaseNoticeEvent {
    notice_type = 'bot_offline';   // æœºå™¨äººç¦»çº¿
    user_id: number;               // æœºå™¨äººQQå·
    tag: string;                   // æ ‡ç­¾
    message: string;               // ç¦»çº¿æ¶ˆæ¯
}
```

## è¯·æ±‚äº‹ä»¶ (Request Event)

> è¯·æ±‚äº‹ä»¶ç”¨äºå¤„ç†å„ç±»éœ€è¦å›åº”çš„è¯·æ±‚ï¼Œå¦‚å¥½å‹è¯·æ±‚ã€åŠ ç¾¤è¯·æ±‚ç­‰

### å¥½å‹è¯·æ±‚äº‹ä»¶

```typescript
class OB11FriendRequestEvent extends OB11BaseNoticeEvent {
    post_type = EventType.REQUEST;  // è¯·æ±‚äº‹ä»¶
    request_type = 'friend';        // å¥½å‹è¯·æ±‚
    user_id: number;                // è¯·æ±‚è€…QQå·
    comment: string;                // éªŒè¯ä¿¡æ¯
    flag: string;                   // è¯·æ±‚æ ‡è¯†
}
```

### ç¾¤è¯·æ±‚äº‹ä»¶

```typescript
class OB11GroupRequestEvent extends OB11GroupNoticeEvent {
    post_type = EventType.REQUEST;  // è¯·æ±‚äº‹ä»¶
    request_type = 'group';         // ç¾¤è¯·æ±‚
    user_id: number;                // è¯·æ±‚è€…QQå·
    comment: string;                // éªŒè¯ä¿¡æ¯
    flag: string;                   // è¯·æ±‚æ ‡è¯†
    sub_type: string;               // è¯·æ±‚å­ç±»å‹
}
```

## æ¶ˆæ¯äº‹ä»¶ (Message Event)

> æ¶ˆæ¯äº‹ä»¶ç”¨äºæ¥æ”¶å„ç±»æ¶ˆæ¯ï¼ŒåŒ…æ‹¬ç§èŠå’Œç¾¤èŠæ¶ˆæ¯

### OB11BaseMessageEvent

æ‰€æœ‰æ¶ˆæ¯äº‹ä»¶çš„åŸºç±»

```typescript
abstract class OB11BaseMessageEvent extends OneBotEvent {
    post_type = EventType.MESSAGE;  // æ¶ˆæ¯äº‹ä»¶
    // å…·ä½“æ¶ˆæ¯ç±»å‹åœ¨å­ç±»ä¸­å®šä¹‰
    message_id: number;             // æ¶ˆæ¯ID
    user_id: number;                // å‘é€è€…QQå·
    message: string | any[];        // æ¶ˆæ¯å†…å®¹
    raw_message: string;            // åŸå§‹æ¶ˆæ¯å†…å®¹
}
```

### ç§èŠæ¶ˆæ¯äº‹ä»¶

```typescript
class OB11PrivateMessageEvent extends OB11BaseMessageEvent {
    message_type = 'private';                // ç§èŠæ¶ˆæ¯
    sub_type: 'friend' | 'group' | 'other';  // å­ç±»å‹
    sender: {                                // å‘é€è€…ä¿¡æ¯
        user_id: number,                     // QQå·
        nickname: string,                    // æ˜µç§°
        sex: 'male' | 'female' | 'unknown',  // æ€§åˆ«
        age: number                          // å¹´é¾„
    };
}
```

### ç¾¤èŠæ¶ˆæ¯äº‹ä»¶

```typescript
class OB11GroupMessageEvent extends OB11BaseMessageEvent {
    message_type = 'group';          // ç¾¤èŠæ¶ˆæ¯
    group_id: number;                // ç¾¤å·
    anonymous: any | null;           // åŒ¿åä¿¡æ¯
    sender: {                        // å‘é€è€…ä¿¡æ¯
        user_id: number,             // å‘é€è€…QQå·
        nickname: string,            // æ˜µç§°
        card: string,                // ç¾¤åç‰‡
        role: 'owner' | 'admin' | 'member', // è§’è‰²
        title: string,               // ä¸“å±å¤´è¡”
        level: string                // æˆå‘˜ç­‰çº§
    };
}
```

### æ¶ˆæ¯å‘é€äº‹ä»¶

```typescript
class OB11MessageSentEvent extends OB11BaseMessageEvent {
    post_type = EventType.MESSAGE_SENT; // æ¶ˆæ¯å‘é€äº‹ä»¶
    message_type: 'private' | 'group';  // æ¶ˆæ¯ç±»å‹
    target_id: number;                  // ç›®æ ‡IDï¼ˆå¥½å‹QQå·æˆ–ç¾¤å·ï¼‰
    // å…¶ä»–å­—æ®µæ ¹æ®æ¶ˆæ¯ç±»å‹ä¸åŒè€Œå˜åŒ–
}
```

## äº‹ä»¶ç»§æ‰¿å…³ç³»æ€»ç»“

```mermaid
graph TD
    A[OneBotEvent] --> B[OB11BaseMetaEvent]
    A --> C[OB11BaseNoticeEvent]
    A --> D[OB11BaseMessageEvent]
    
    B --> B1[OB11HeartbeatEvent]
    B --> B2[OB11LifeCycleEvent]
    
    C --> C1[OB11GroupNoticeEvent]
    C --> C2[OB11FriendAddNoticeEvent]
    C --> C3[OB11FriendRecallNoticeEvent]
    C --> C4[OB11PokeEvent]
    C --> C5[OB11InputStatusEvent]
    C --> C6[OB11ProfileLikeEvent]
    C --> C7[BotOfflineEvent]
    C --> C8[OB11FriendRequestEvent]
    
    C1 --> C1A[OB11GroupAdminNoticeEvent]
    C1 --> C1B[OB11GroupBanEvent]
    C1 --> C1C[OB11GroupCardEvent]
    C1 --> C1D[OB11GroupDecreaseEvent]
    C1 --> C1E[OB11GroupEssenceEvent]
    C1 --> C1F[OB11GroupIncreaseEvent]
    C1 --> C1G[OB11GroupMsgEmojiLikeEvent]
    C1 --> C1H[OB11GroupNameEvent]
    C1 --> C1I[OB11GroupRecallNoticeEvent]
    C1 --> C1J[OB11GroupRequestEvent]
    C1 --> C1K[OB11GroupTitleEvent]
    C1 --> C1L[OB11GroupUploadNoticeEvent]
    
    C4 --> C4A[OB11FriendPokeEvent]
    C4 --> C4B[OB11GroupPokeEvent]
    
    D --> D1[OB11PrivateMessageEvent]
    D --> D2[OB11GroupMessageEvent]
    D --> D3[OB11MessageSentEvent]
```

### äº‹ä»¶ç±»å‹æ€»è§ˆè¡¨

| äº‹ä»¶ç±»å‹ | æè¿° | ä¸»è¦å­ç±»å‹ |
|---------|------|-----------|
| å…ƒäº‹ä»¶ (Meta) | ä¸åè®®ç›¸å…³çš„ç³»ç»Ÿäº‹ä»¶ | å¿ƒè·³ã€ç”Ÿå‘½å‘¨æœŸ |
| é€šçŸ¥äº‹ä»¶ (Notice) | å„ç±»é€šçŸ¥äº‹ä»¶ | å¥½å‹æ·»åŠ ã€ç¾¤ç»„å˜åŠ¨ã€æ¶ˆæ¯æ’¤å›ç­‰ |
| è¯·æ±‚äº‹ä»¶ (Request) | éœ€è¦å›åº”çš„è¯·æ±‚äº‹ä»¶ | å¥½å‹è¯·æ±‚ã€åŠ ç¾¤è¯·æ±‚ |
| æ¶ˆæ¯äº‹ä»¶ (Message) | æ¥æ”¶å’Œå‘é€çš„æ¶ˆæ¯ | ç§èŠæ¶ˆæ¯ã€ç¾¤èŠæ¶ˆæ¯ |

### äº‹ä»¶å¤„ç†æµç¨‹

1. æ¥æ”¶äº‹ä»¶æ•°æ®
2. æ ¹æ® `post_type` å­—æ®µè¯†åˆ«äº‹ä»¶å¤§ç±»
3. æ ¹æ®å…·ä½“äº‹ä»¶ç±»å‹ï¼ˆå¦‚ `notice_type`ã€`meta_event_type` ç­‰ï¼‰ç¡®å®šå­ç±»å‹
4. å®ä¾‹åŒ–å¯¹åº”çš„äº‹ä»¶å¯¹è±¡
5. ä¼ é€’ç»™äº‹ä»¶å¤„ç†å™¨è¿›è¡Œå¤„ç†
```

